if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-itsamessage/gallery-itsamessage.js']) {
   __coverage__['build/gallery-itsamessage/gallery-itsamessage.js'] = {"path":"build/gallery-itsamessage/gallery-itsamessage.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":31},"end":{"line":1,"column":50}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":17},"end":{"line":32,"column":28}}},"3":{"name":"(anonymous_3)","line":294,"loc":{"start":{"line":294,"column":16},"end":{"line":294,"column":27}}},"4":{"name":"(anonymous_4)","line":323,"loc":{"start":{"line":323,"column":41},"end":{"line":323,"column":69}}},"5":{"name":"(anonymous_5)","line":326,"loc":{"start":{"line":326,"column":8},"end":{"line":326,"column":19}}},"6":{"name":"(anonymous_6)","line":348,"loc":{"start":{"line":348,"column":31},"end":{"line":348,"column":48}}},"7":{"name":"(anonymous_7)","line":360,"loc":{"start":{"line":360,"column":32},"end":{"line":360,"column":48}}},"8":{"name":"(anonymous_8)","line":374,"loc":{"start":{"line":374,"column":37},"end":{"line":374,"column":49}}},"9":{"name":"(anonymous_9)","line":389,"loc":{"start":{"line":389,"column":38},"end":{"line":389,"column":50}}},"10":{"name":"(anonymous_10)","line":404,"loc":{"start":{"line":404,"column":36},"end":{"line":404,"column":47}}},"11":{"name":"(anonymous_11)","line":435,"loc":{"start":{"line":435,"column":35},"end":{"line":435,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":458,"column":3}},"2":{"start":{"line":24,"column":0},"end":{"line":29,"column":23}},"3":{"start":{"line":31,"column":0},"end":{"line":314,"column":3}},"4":{"start":{"line":33,"column":8},"end":{"line":33,"column":28}},"5":{"start":{"line":258,"column":8},"end":{"line":258,"column":36}},"6":{"start":{"line":259,"column":8},"end":{"line":259,"column":38}},"7":{"start":{"line":260,"column":8},"end":{"line":260,"column":32}},"8":{"start":{"line":261,"column":8},"end":{"line":261,"column":30}},"9":{"start":{"line":262,"column":8},"end":{"line":262,"column":33}},"10":{"start":{"line":263,"column":8},"end":{"line":263,"column":35}},"11":{"start":{"line":264,"column":8},"end":{"line":264,"column":39}},"12":{"start":{"line":265,"column":8},"end":{"line":265,"column":34}},"13":{"start":{"line":266,"column":8},"end":{"line":266,"column":40}},"14":{"start":{"line":268,"column":8},"end":{"line":268,"column":30}},"15":{"start":{"line":269,"column":8},"end":{"line":269,"column":37}},"16":{"start":{"line":270,"column":8},"end":{"line":270,"column":40}},"17":{"start":{"line":271,"column":8},"end":{"line":271,"column":40}},"18":{"start":{"line":272,"column":8},"end":{"line":272,"column":36}},"19":{"start":{"line":273,"column":8},"end":{"line":273,"column":37}},"20":{"start":{"line":274,"column":8},"end":{"line":274,"column":38}},"21":{"start":{"line":277,"column":8},"end":{"line":283,"column":10}},"22":{"start":{"line":285,"column":8},"end":{"line":291,"column":10}},"23":{"start":{"line":295,"column":8},"end":{"line":295,"column":28}},"24":{"start":{"line":296,"column":8},"end":{"line":296,"column":29}},"25":{"start":{"line":298,"column":8},"end":{"line":298,"column":52}},"26":{"start":{"line":323,"column":0},"end":{"line":338,"column":2}},"27":{"start":{"line":324,"column":4},"end":{"line":324,"column":24}},"28":{"start":{"line":325,"column":4},"end":{"line":337,"column":6}},"29":{"start":{"line":328,"column":12},"end":{"line":328,"column":111}},"30":{"start":{"line":329,"column":12},"end":{"line":329,"column":138}},"31":{"start":{"line":331,"column":12},"end":{"line":335,"column":13}},"32":{"start":{"line":332,"column":16},"end":{"line":332,"column":52}},"33":{"start":{"line":348,"column":0},"end":{"line":350,"column":2}},"34":{"start":{"line":349,"column":4},"end":{"line":349,"column":47}},"35":{"start":{"line":360,"column":0},"end":{"line":362,"column":2}},"36":{"start":{"line":361,"column":4},"end":{"line":361,"column":63}},"37":{"start":{"line":374,"column":0},"end":{"line":379,"column":2}},"38":{"start":{"line":375,"column":4},"end":{"line":375,"column":37}},"39":{"start":{"line":377,"column":4},"end":{"line":377,"column":31}},"40":{"start":{"line":389,"column":0},"end":{"line":394,"column":2}},"41":{"start":{"line":390,"column":4},"end":{"line":390,"column":39}},"42":{"start":{"line":392,"column":4},"end":{"line":392,"column":32}},"43":{"start":{"line":404,"column":0},"end":{"line":426,"column":2}},"44":{"start":{"line":405,"column":4},"end":{"line":408,"column":27}},"45":{"start":{"line":410,"column":4},"end":{"line":417,"column":5}},"46":{"start":{"line":411,"column":8},"end":{"line":411,"column":99}},"47":{"start":{"line":412,"column":8},"end":{"line":412,"column":44}},"48":{"start":{"line":414,"column":9},"end":{"line":417,"column":5}},"49":{"start":{"line":415,"column":8},"end":{"line":415,"column":29}},"50":{"start":{"line":416,"column":8},"end":{"line":416,"column":26}},"51":{"start":{"line":419,"column":4},"end":{"line":424,"column":5}},"52":{"start":{"line":420,"column":8},"end":{"line":420,"column":44}},"53":{"start":{"line":421,"column":8},"end":{"line":421,"column":54}},"54":{"start":{"line":422,"column":8},"end":{"line":422,"column":39}},"55":{"start":{"line":423,"column":8},"end":{"line":423,"column":126}},"56":{"start":{"line":435,"column":0},"end":{"line":445,"column":2}},"57":{"start":{"line":436,"column":4},"end":{"line":436,"column":24}},"58":{"start":{"line":438,"column":4},"end":{"line":444,"column":5}},"59":{"start":{"line":439,"column":8},"end":{"line":439,"column":82}},"60":{"start":{"line":440,"column":8},"end":{"line":440,"column":38}},"61":{"start":{"line":442,"column":8},"end":{"line":442,"column":52}}},"branchMap":{"1":{"line":298,"type":"binary-expr","locations":[{"start":{"line":298,"column":8},"end":{"line":298,"column":23}},{"start":{"line":298,"column":27},"end":{"line":298,"column":51}}]},"2":{"line":328,"type":"binary-expr","locations":[{"start":{"line":328,"column":13},"end":{"line":328,"column":53}},{"start":{"line":328,"column":59},"end":{"line":328,"column":109}}]},"3":{"line":329,"type":"binary-expr","locations":[{"start":{"line":329,"column":12},"end":{"line":329,"column":29}},{"start":{"line":329,"column":35},"end":{"line":329,"column":79}},{"start":{"line":329,"column":85},"end":{"line":329,"column":135}}]},"4":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":12},"end":{"line":331,"column":12}},{"start":{"line":331,"column":12},"end":{"line":331,"column":12}}]},"5":{"line":361,"type":"binary-expr","locations":[{"start":{"line":361,"column":38},"end":{"line":361,"column":43}},{"start":{"line":361,"column":47},"end":{"line":361,"column":60}}]},"6":{"line":377,"type":"binary-expr","locations":[{"start":{"line":377,"column":4},"end":{"line":377,"column":10}},{"start":{"line":377,"column":14},"end":{"line":377,"column":30}}]},"7":{"line":392,"type":"binary-expr","locations":[{"start":{"line":392,"column":4},"end":{"line":392,"column":11}},{"start":{"line":392,"column":15},"end":{"line":392,"column":31}}]},"8":{"line":410,"type":"if","locations":[{"start":{"line":410,"column":4},"end":{"line":410,"column":4}},{"start":{"line":410,"column":4},"end":{"line":410,"column":4}}]},"9":{"line":411,"type":"cond-expr","locations":[{"start":{"line":411,"column":51},"end":{"line":411,"column":84}},{"start":{"line":411,"column":87},"end":{"line":411,"column":98}}]},"10":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":9},"end":{"line":414,"column":9}},{"start":{"line":414,"column":9},"end":{"line":414,"column":9}}]},"11":{"line":419,"type":"if","locations":[{"start":{"line":419,"column":4},"end":{"line":419,"column":4}},{"start":{"line":419,"column":4},"end":{"line":419,"column":4}}]},"12":{"line":423,"type":"cond-expr","locations":[{"start":{"line":423,"column":89},"end":{"line":423,"column":105}},{"start":{"line":423,"column":108},"end":{"line":423,"column":123}}]},"13":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":4},"end":{"line":438,"column":4}},{"start":{"line":438,"column":4},"end":{"line":438,"column":4}}]},"14":{"line":442,"type":"binary-expr","locations":[{"start":{"line":442,"column":8},"end":{"line":442,"column":23}},{"start":{"line":442,"column":27},"end":{"line":442,"column":51}}]}},"code":["(function () { YUI.add('gallery-itsamessage', function (Y, NAME) {","","'use strict';","","/*jshint maxlen:200 */","","/**"," *"," * Extends Y.Model by adding methods through which they can create editable form-elements, which represent and are bound to the propery-value."," * This model is for defining the UI-structure for all Model's properties and for firing model-events for"," * Y.ITSAFormModel does not rendering to the dom itself. That needs to be done by an Y.View-instance, like Y.ITSAViewModel."," *"," * @module gallery-itsamessage"," * @extends ITSAFormModel"," * @class ITSAMessage"," * @constructor"," * @since 0.1"," *"," * <i>Copyright (c) 2013 Marco Asbreuk - http://itsasbreuk.nl</i>"," * YUI BSD License - http://developer.yahoo.com/yui/license.html"," *","*/","","var ITSAMessage,","    MESSAGE = 'message',","    MESSAGEREJECT = MESSAGE+'reject',","    MESSAGERESOLVE = MESSAGE+'resolve',","    GALLERY_ITSA = 'gallery-itsa',","    MIN_TIMEOUT = 1000;","","ITSAMessage = Y.ITSAMessage = Y.Base.create('itsamessage', Y.ITSAFormModel, [], {","    initializer: function() {","        var instance = this;","","        /**","         * Array of objects with properties buttons.buttonType and buttonConfig.labelHTML, that passes through to Y.ITSAViewModelPanel.setButtonLabels","         * and overrules the labels of the specified buttons.","         * @property buttonLabels","         * @default null","         * @type Array","         */","        /**","         * Whether the closebutton should be visible.","         * @property closeButton","         * @default true","         * @type Boolean","         */","        /**","         * Array of objects with properties buttons.buttonId, buttons.labelHTML and optionally buttonConfig.config, that passes through to Y.ITSAViewModelPanel.addCustomBtns.","         * Is used to define custom buttons.","         * @property customBtns","         * @default null","         * @type Array","         */","        /**","         * Footertemplate","         * @property footer","         * @default null","         * @type String","         */","        /**","         * Array of objects with properties buttons.buttonType and buttonConfig.hotkey, that passes through to Y.ITSAViewModelPanel.setHotkeys.","         * Is used to define custom hotkeys.","         * @property hotKeys","         * @default null","         * @type Node","         */","        /**","         * The icon that should be used left-next to the message.","         * @property icon","         * @default null","         * @type String","         */","        /**","         * Whether to use imagebuttons.","         * @property imageButtons","         * @default false","         * @type Boolean","         */","        /**","         * The level of the message. Either 'info', 'warn' or 'error'.","         * @property level","         * @default 'info'","         * @type String","         */","        /**","         * The message to be appeared.","         * @property message","         * @default ''","         * @type String","         */","        /**","         * Identification of the messagetype. This might be useful for Y.ITSAMessageViewer decsendants to determine if they should handle the message.","         * @property messageType","         * @default null","         * @type String","         */","        /**","         * Whether complete suppress audio (which is generated by warning and error messages)","         * @property noAudio","         * @default false","         * @type Boolean","         */","        /**","         * Whether to completely ignore any button. Using this, you need to fulfill the Y.ITSAMessage-instance by timer, or by calling resolve() or reject().","         * @property noButtons","         * @default false","         * @type Boolean","         */","        /**","         * Flag that tells to remain the message when submitted. Using this, you need to fulfill the Y.ITSAMessage-instance by timer, or by calling resolve() or reject().","         * @property noHideOnSubmit","         * @default true","         * @type Boolean","         */","        /**","         * Definition of the primary button.","         * @property primaryButton","         * @default null","         * @type String","         */","        /**","         * Flag that gives the message high-priority in the messagequeque.","         * @property priority","         * @default false","         * @type Boolean","         */","        /**","         * Definition of the reject-button. A userclick on this button should make itsamessage._promise to reject.","         * @property rejectButton","         * @default null","         * @type String","         */","        /**","         * Soundfile that should be playes when the message is shown.","         * @property soundfile","         * @default null","         * @type String","         */","        /**","         * Definition of the sender of the message.","         * @property source","         * @default 'application'","         * @type String","         */","        /**","         * Target to NAME-property of the widget that should handle the message.","         * @property target","         * @default null","         * @type String","         */","        /**","         * Number of ms after which the Y.ITSAMessage-instance should be rejected. Measured to the actual display-time.","         * @property timeoutReject","         * @default null","         * @type Number","         */","        /**","         * Number of ms after which the Y.ITSAMessage-instance should be resolved. Measured to the actual display-time.","         * @property timeoutResolve","         * @default null","         * @type Number","         */","        /**","         * The title of the message.","         * @property title","         * @default null","         * @type String","         */","","        //--- private properties ---------------------------------------------------","","        /**","         * Copy of the config that was passed through by a parent-method.","         * @property _config","         * @default {}","         * @type Object","         * @private","         */","        /**","         * Flag that tells whether the instance is currently processed by an Y.ITSAMessageViewer.","         * @property _processing","         * @default false","         * @type Boolean","         * @private","         */","        /**","         * Internal Promise that holds the state of being processed.","         * @property _promise","         * @default null","         * @type Y.Promise","         * @private","         */","        /**","         * Reference to the reject-callback of this._promise.","         * @property _rejectPromise","         * @default null","         * @type Function","         * @private","         */","        /**","         * Reference to the resolve-callback of this._promise.","         * @property _resolvePromise","         * @default null","         * @type Function","         * @private","         */","        /**","         * Internal backup of the submit-button that was pressed - if appropriate.","         * @property _submitBtn","         * @default null","         * @type String","         * @private","         */","        /**","         * Internal flag that tells whether the instance is a simplemessage that can be proccessed without title, buttons and as simple text.","         * @property _simpleMessage","         * @default false","         * @type Boolean","         * @private","         */","        /**","         * Internal flag that tells whether the instance is a statusmessage that needs to be removed manually.","         * @property _statusMessage","         * @default false","         * @type Boolean","         * @private","         */","        /**","         * Internal flag that tells whether the instance is suspended.","         * @property _suspended","         * @default false","         * @type Boolean","         * @private","         */","        /**","         * Internal timer that hold the numer of ms that a timeout has been executed.","         * @property _timerProcessed","         * @default 0","         * @type Number","         * @private","         */","        /**","         * Time-stamp when the timer was started.","         * @property _timerStart","         * @default null","         * @type Number","         * @private","         */","        /**","         * Internal flag that tells whether the timer is running.","         * @property _timerStopped","         * @default true","         * @type Boolean","         * @private","         */","","        instance.closeButton = true;","        instance.imageButtons = false;","        instance.level = 'info';","        instance.message = '';","        instance.noAudio = false;","        instance.noButtons = false;","        instance.noHideOnSubmit = true;","        instance.priority = false; // messages with priority===true appear before messages with priority===false","        instance.source = 'application';","","        instance._config = {}; // original config passed through","        instance._processing = false;","        instance._simpleMessage = false;","        instance._statusMessage = false;","        instance._suspended = false;","        instance._timerProcessed = 0;","        instance._timerStopped = true;","","        // publishing event 'messagereject'","        instance.publish(","            MESSAGEREJECT,","            {","                defaultFn: Y.bind(instance._defRejectFn, instance),","                emitFacade: true","            }","        );","        // publishing event 'messageresolve'","        instance.publish(","            MESSAGERESOLVE,","            {","                defaultFn: Y.bind(instance._defResolveFn, instance),","                emitFacade: true","            }","        );","","    },","    destructor: function() {","        var instance = this;","        instance.config = {}; // orriginal config passed trhough","/*jshint expr:true */","        instance._timer && instance._timer.cancel();","/*jshint expr:false */","    }","}, {","    ATTRS: {","        /**","         * The button that was pressed (if appropriate). Returnvalue represents the button's-value.","         *","         * @attribute button","         * @type {String}","         * @default null","         */","        button: {","            writeOnce: 'initOnly'","        }","    }","});","","/**"," * Makes the message to target the specified messageViewer."," *"," * @method addMessageTarget"," * @param itsamessageviewer {Y.ITSAMessageViewer|Y.ITSAPanel}"," * @since 0.1","*/","ITSAMessage.prototype.addMessageTarget = function(itsamessageviewer) {","    var instance = this;","    Y.usePromise(GALLERY_ITSA+'messageviewer', GALLERY_ITSA+'panel', GALLERY_ITSA+'viewmodel').then(","        function() {","/*jshint expr:true */","            (itsamessageviewer instanceof Y.ITSAPanel) && (itsamessageviewer=itsamessageviewer._itsastatusbar);","            itsamessageviewer || ((itsamessageviewer instanceof Y.ITSAViewModel) && (itsamessageviewer=itsamessageviewer._itsastatusbar));","/*jshint expr:false */","            if (itsamessageviewer instanceof Y.ITSAMessageViewer) {","                instance.target = itsamessageviewer;","            }","            else {","            }","        }","    );","};","","/**"," * Rejects the Y.ITSAMessage. Therefore it will removed from the Y.ITSAMessageController-queue with a Promise-reject callback."," * Rejects event-driven by firing a 'm'essagereject'-event, which can be listen to and prevented."," *"," * @method reject"," * @param [reason] {String|Error}"," * @since 0.1","*/","ITSAMessage.prototype.reject = function(reason) {","    this.fire(MESSAGEREJECT, {reason: reason});","};","","/**"," * Resolves the Y.ITSAMessage. Therefore it will removed from the Y.ITSAMessageController-queue with a Promise-resolve callback.<br>"," * Resolves event-driven by firing a 'messageresolve'-event, which can be listen to and prevented."," *"," * @method resolve"," * @param [attrs] {Object} Any properties to be passed through to the resolve-callback. When not set, this.toJSON() will be passed through."," * @since 0.1","*/","ITSAMessage.prototype.resolve = function(attrs) {","    this.fire(MESSAGERESOLVE, {attrs: attrs || this.toJSON()});","};","","//--- private methods ---------------------------------------------------","","/**"," * Default Func for the 'messagereject'-event, which rejects the internal Y.ITSAMessage._promise."," *"," * @method _defRejectFn"," * @param e {Object} eventfacade"," * @private"," * @since 0.1","*/","ITSAMessage.prototype._defRejectFn = function(e) {","    var reject = this._rejectPromise;","/*jshint expr:true */","    reject && reject(e.reason);","/*jshint expr:false */","};","","/**"," * Default Func for the 'messageresolve'-event, which resolves the internal Y.ITSAMessage._promise."," *"," * @method _defRejectFn"," * @param e {Object} eventfacade"," * @private"," * @since 0.1","*/","ITSAMessage.prototype._defResolveFn = function(e) {","    var resolve = this._resolvePromise;","/*jshint expr:true */","    resolve && resolve(e.attrs);","/*jshint expr:false */","};","","/**"," * Starts the timer that can make the internal Y.ITSAMessage.promise to fulfill. When the timer already had some time -which was interupted by this._stopTimer()-"," * then the previous amount is added to the the timer."," *"," * @method _startTimer"," * @private"," * @since 0.1","*/","ITSAMessage.prototype._startTimer = function() {","    var instance = this,","        resolveTime = instance.timeoutResolve,","        rejectTime = instance.timeoutReject,","        timeout, doResolve;","","    if (typeof resolveTime==='number') {","        timeout = (typeof rejectTime==='number') ? Math.min(resolveTime, rejectTime) : resolveTime;","        doResolve = (timeout===resolveTime);","    }","    else if (typeof rejectTime==='number') {","        timeout = rejectTime;","        doResolve = false;","    }","/*jshint expr:true */","    if (timeout) {","        timeout -= instance._timerProcessed;","        instance._timerStart = (new Date()).getTime();","        instance._timerStopped = false;","        instance._timer = Y.later(Math.max(timeout, MIN_TIMEOUT), instance, (doResolve ? instance.resolve : instance.reject));","    }","/*jshint expr:false */","};","","/**"," * Interupts the timer that can make the internal Y.ITSAMessage._promise to fulfill. Can be reinitiated with this._startTimer()."," *"," * @method _stopTimer"," * @private"," * @since 0.1","*/","ITSAMessage.prototype._stopTimer = function() {","    var instance = this;","","    if (!instance._timerStopped) {","        instance._timerProcessed += (new Date()).getTime() - instance._timerStart;","        instance._timerStopped = true;","/*jshint expr:true */","        instance._timer && instance._timer.cancel();","/*jshint expr:false */","    }","};","","","","","}, '@VERSION@', {","    \"requires\": [","        \"yui-base\",","        \"oop\",","        \"yui-later\",","        \"gallery-itsaformmodel\",","        \"gallery-itsamodulesloadedpromise\"","    ]","});","","}());"]};
}
var __cov_aA7qaoG77CyMLQqu9rE0BQ = __coverage__['build/gallery-itsamessage/gallery-itsamessage.js'];
__cov_aA7qaoG77CyMLQqu9rE0BQ.s['1']++;YUI.add('gallery-itsamessage',function(Y,NAME){'use strict';__cov_aA7qaoG77CyMLQqu9rE0BQ.f['1']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['2']++;var ITSAMessage,MESSAGE='message',MESSAGEREJECT=MESSAGE+'reject',MESSAGERESOLVE=MESSAGE+'resolve',GALLERY_ITSA='gallery-itsa',MIN_TIMEOUT=1000;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['3']++;ITSAMessage=Y.ITSAMessage=Y.Base.create('itsamessage',Y.ITSAFormModel,[],{initializer:function(){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['2']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['4']++;var instance=this;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['5']++;instance.closeButton=true;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['6']++;instance.imageButtons=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['7']++;instance.level='info';__cov_aA7qaoG77CyMLQqu9rE0BQ.s['8']++;instance.message='';__cov_aA7qaoG77CyMLQqu9rE0BQ.s['9']++;instance.noAudio=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['10']++;instance.noButtons=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['11']++;instance.noHideOnSubmit=true;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['12']++;instance.priority=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['13']++;instance.source='application';__cov_aA7qaoG77CyMLQqu9rE0BQ.s['14']++;instance._config={};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['15']++;instance._processing=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['16']++;instance._simpleMessage=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['17']++;instance._statusMessage=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['18']++;instance._suspended=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['19']++;instance._timerProcessed=0;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['20']++;instance._timerStopped=true;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['21']++;instance.publish(MESSAGEREJECT,{defaultFn:Y.bind(instance._defRejectFn,instance),emitFacade:true});__cov_aA7qaoG77CyMLQqu9rE0BQ.s['22']++;instance.publish(MESSAGERESOLVE,{defaultFn:Y.bind(instance._defResolveFn,instance),emitFacade:true});},destructor:function(){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['3']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['23']++;var instance=this;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['24']++;instance.config={};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['25']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['1'][0]++,instance._timer)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['1'][1]++,instance._timer.cancel());}},{ATTRS:{button:{writeOnce:'initOnly'}}});__cov_aA7qaoG77CyMLQqu9rE0BQ.s['26']++;ITSAMessage.prototype.addMessageTarget=function(itsamessageviewer){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['4']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['27']++;var instance=this;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['28']++;Y.usePromise(GALLERY_ITSA+'messageviewer',GALLERY_ITSA+'panel',GALLERY_ITSA+'viewmodel').then(function(){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['5']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['29']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['2'][0]++,itsamessageviewer instanceof Y.ITSAPanel)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['2'][1]++,itsamessageviewer=itsamessageviewer._itsastatusbar);__cov_aA7qaoG77CyMLQqu9rE0BQ.s['30']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['3'][0]++,itsamessageviewer)||(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['3'][1]++,itsamessageviewer instanceof Y.ITSAViewModel)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['3'][2]++,itsamessageviewer=itsamessageviewer._itsastatusbar);__cov_aA7qaoG77CyMLQqu9rE0BQ.s['31']++;if(itsamessageviewer instanceof Y.ITSAMessageViewer){__cov_aA7qaoG77CyMLQqu9rE0BQ.b['4'][0]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['32']++;instance.target=itsamessageviewer;}else{__cov_aA7qaoG77CyMLQqu9rE0BQ.b['4'][1]++;}});};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['33']++;ITSAMessage.prototype.reject=function(reason){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['6']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['34']++;this.fire(MESSAGEREJECT,{reason:reason});};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['35']++;ITSAMessage.prototype.resolve=function(attrs){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['7']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['36']++;this.fire(MESSAGERESOLVE,{attrs:(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['5'][0]++,attrs)||(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['5'][1]++,this.toJSON())});};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['37']++;ITSAMessage.prototype._defRejectFn=function(e){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['8']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['38']++;var reject=this._rejectPromise;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['39']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['6'][0]++,reject)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['6'][1]++,reject(e.reason));};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['40']++;ITSAMessage.prototype._defResolveFn=function(e){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['9']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['41']++;var resolve=this._resolvePromise;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['42']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['7'][0]++,resolve)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['7'][1]++,resolve(e.attrs));};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['43']++;ITSAMessage.prototype._startTimer=function(){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['10']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['44']++;var instance=this,resolveTime=instance.timeoutResolve,rejectTime=instance.timeoutReject,timeout,doResolve;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['45']++;if(typeof resolveTime==='number'){__cov_aA7qaoG77CyMLQqu9rE0BQ.b['8'][0]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['46']++;timeout=typeof rejectTime==='number'?(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['9'][0]++,Math.min(resolveTime,rejectTime)):(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['9'][1]++,resolveTime);__cov_aA7qaoG77CyMLQqu9rE0BQ.s['47']++;doResolve=timeout===resolveTime;}else{__cov_aA7qaoG77CyMLQqu9rE0BQ.b['8'][1]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['48']++;if(typeof rejectTime==='number'){__cov_aA7qaoG77CyMLQqu9rE0BQ.b['10'][0]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['49']++;timeout=rejectTime;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['50']++;doResolve=false;}else{__cov_aA7qaoG77CyMLQqu9rE0BQ.b['10'][1]++;}}__cov_aA7qaoG77CyMLQqu9rE0BQ.s['51']++;if(timeout){__cov_aA7qaoG77CyMLQqu9rE0BQ.b['11'][0]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['52']++;timeout-=instance._timerProcessed;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['53']++;instance._timerStart=new Date().getTime();__cov_aA7qaoG77CyMLQqu9rE0BQ.s['54']++;instance._timerStopped=false;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['55']++;instance._timer=Y.later(Math.max(timeout,MIN_TIMEOUT),instance,doResolve?(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['12'][0]++,instance.resolve):(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['12'][1]++,instance.reject));}else{__cov_aA7qaoG77CyMLQqu9rE0BQ.b['11'][1]++;}};__cov_aA7qaoG77CyMLQqu9rE0BQ.s['56']++;ITSAMessage.prototype._stopTimer=function(){__cov_aA7qaoG77CyMLQqu9rE0BQ.f['11']++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['57']++;var instance=this;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['58']++;if(!instance._timerStopped){__cov_aA7qaoG77CyMLQqu9rE0BQ.b['13'][0]++;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['59']++;instance._timerProcessed+=new Date().getTime()-instance._timerStart;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['60']++;instance._timerStopped=true;__cov_aA7qaoG77CyMLQqu9rE0BQ.s['61']++;(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['14'][0]++,instance._timer)&&(__cov_aA7qaoG77CyMLQqu9rE0BQ.b['14'][1]++,instance._timer.cancel());}else{__cov_aA7qaoG77CyMLQqu9rE0BQ.b['13'][1]++;}};},'@VERSION@',{'requires':['yui-base','oop','yui-later','gallery-itsaformmodel','gallery-itsamodulesloadedpromise']});
