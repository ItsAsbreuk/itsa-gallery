YUI.add("gallery-itsalevelbarrel",function(e,t){"use strict";function w(){w.superclass.constructor.apply(this,arguments)}var n=e.Lang,r=e.Array,i="label",s="value",o="maxValue",u="Change",a="className",f="olor",l="c"+f,c="C"+f,h="line"+c,p="background"+c,d="boundingBox",v="contentBox",m="level-indicator",g="1px 1px {color}, -1px 1px {color}, 1px -1px {color}, -1px -1px {color}",y='<div class="barrelvalue"></div><div class="barrellabel"><span>{label}</span></div><div class="'+m+'"></div>',b="itsa-barrel-container";w.NAME="itsalevelbarrel",w.ATTRS={value:{value:0,validator:function(e){return typeof e=="number"}},maxValue:{value:100,validator:function(e){return typeof e=="number"}},className:{value:null,validator:function(e){return e===null||typeof e=="string"}},label:{value:null,validator:function(e){return e===null||typeof e=="string"}},color:{value:null,validator:function(e){return e===null||typeof e=="string"}},unity:{value:null,validator:function(e){return e===null||typeof e=="string"}},backgroundColor:{value:null,validator:function(e){return e===null||typeof e=="string"}},lineColor:{value:null,validator:function(e){return e===null||typeof e=="string"}}},e.ITSALevelBarrel=e.extend(w,e.Widget),w.prototype.initializer=function(){},w.prototype.renderUI=function(){var e=this,t=e.get(d),r=e.get(v),s=e.get(a),o=e.get(l),u=e.get(p),f=e.get(h);t.addClass(b),s&&t.addClass(s),r.setHTML(n.sub(y,{label:e.get(i)||""})),o&&e._setColor({newVal:o}),u&&e._setBackgroundColor({newVal:u}),f&&e._setLineColor({newVal:f})},w.prototype.bindUI=function(){var t=this,n;n=t._eventhandlers=[],n.push(t.after([s+u,o+u],e.bind(t.syncUI,t))),n.push(t.after([l+u],e.bind(t._setColor,t))),n.push(t.after([h+u],e.bind(t._setLineColor,t))),n.push(t.after([p+u],e.bind(t._setBackgroundColor,t))),n.push(t.after([a+u],e.bind(t._changeClassName,t))),n.push(t.after([i+u],e.bind(t._changeLabel,t)))},w.prototype.syncUI=function(){var e=this,t=e.get(v),n=t.one("."+m),r=e.get(s),i=e.get(o),u=Math.round(100*(i-r)/i),a=e.get("unity"),f=t.one(".barrelvalue");n.setStyle("top",u+"%"),f.setHTML(e.get("value")+(a?'<span class="barrelunity">'+e.get("unity")+"</span>":""))},w.prototype.destructor=function(){var e=this;e._clearEventhandlers()},w.prototype._changeLabel=function(e){var t=this,n=e.newVal||"",r=t.get(v),i=r.one(".barrellabel span");i.set("text",n)},w.prototype._changeClassName=function(e){var t=this,n=e.newVal,r=e.prevVal,i=t.get(d);r&&i.removeClass(r),n&&i.addClass(n)},w.prototype._clearEventhandlers=function(){r.each(this._eventhandlers,function(e){e.detach()})},w.prototype._setColor=function(e){var t=this,n=e.newVal||"",r=t.get(v),i=r.one(".barrelvalue");i.setStyle("color",n)},w.prototype._setLineColor=function(e){var t=this,r=e.newVal,i=t.get(v),s=i.one(".barrelvalue"),o=r&&r!==""?n.sub(g,{color:r}):"";s.setStyle("textShadow",o)},w.prototype._setBackgroundColor=function(e){var t=this,n=e.newVal||"",r=t.get(v),i=r.one("."+m);i.setStyle("backgroundColor",n)}},"@VERSION@",{requires:["widget","node-base","node-style"],skinnable:!0});
