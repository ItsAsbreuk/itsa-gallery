YUI.add("gallery-itsasubscribemodelbuttons",function(e,t){"use strict";var n=e.Array,r="itsa-model",i="firemodel",s="anchorclick",o="buttonclick";e.namespace("Plugin").ITSASubscribeModelButtons=e.Base.create("itsasubscribemodelbuttons",e.Plugin.Base,[],{_eventhandlers:[],host:null,initializer:function(){var e=this;e.host=e.get("host"),e._bindUI()},destructor:function(){this._clearEventhandlers()},_bindUI:function(){var t=this,n=t.host,r=n.get("contentBox");t._eventhandlers.push(r.delegate("click",e.rbind(t._fireEvent,t,o),function(){var e=this,t=e.get("tagName"),r=n.lastScrolledAmt,i=r&&Math.abs(n.lastScrolledAmt)>n.get("clickSensivity");return!i&&t==="BUTTON"})),t._eventhandlers.push(r.delegate("click",e.rbind(t._fireEvent,t,s),function(){var e=this,t=e.get("tagName"),r=n.lastScrolledAmt,s=r&&Math.abs(n.lastScrolledAmt)>n.get("clickSensivity");return!s&&t==="A"&&e.hasClass(i)}))},_fireEvent:function(e,t){var n=this,i=n.host,o,u,a,f;o=i.get("model");if(!o){u=e.currentTarget.get("parentNode");while(u&&!u.hasClass(r))u=u.get("parentNode");u&&u.hasClass(r)&&(a=u.getData("modelClientId"),f=i.getModelListInUse&&i.getModelListInUse(),o=f&&f.getByClientId(a))}o&&(e.model=o,t===s&&e.preventDefault(),i.fire(t,e))},_clearEventhandlers:function(){n.each(this._eventhandlers,function(e){e.detach()})}},{NS:"itsamodelbtn",ATTRS:{}})},"@VERSION@",{requires:["base-build","node-base","event-custom","node-event-delegate","plugin"]});
