YUI.add("gallery-itsalogin",function(e,t){"use strict";var n=e.ITSAMessageControllerClass,r,i=e.Lang,s="boolean",o="info",u="_",a="ogin",f="l"+a,l="getL"+a,c="application";n.prototype[u+l]=function(t,n,r,i){var u=this,a=u._retrieveLoginParams(t,n,r,i),f,h,p,d,v,m,g,y,b,w;return t=a.title,n=a.message,r=a.config,m=a.syncPromise,f=typeof r.required===s&&r.required,y=(f?"":"{btn_cancel}")+"{btn_submit}",b="btn_submit",w=f?null:"btn_cancel",g=typeof r.imageButtons===s&&r.imageButtons,g&&(y=y.replace(/\{btn_/g,"{imgbtn_"),b=b.replace(/btn_/g,"imgbtn_")),p=r.formconfigUsername||{},p.label||p.placeholder||(p.label="username"),p.fullselect=!0,p.primarybtnonenter=!1,p.classname="itsa-login"+(p.classname?" "+p.classname:""),p.required=!0,d=r.formconfigPassword||{},d.label||d.placeholder||(d.label="password"),d.fullselect=!0,d.primarybtnonenter=!0,d.classname="itsa-login"+(d.classname?" "+d.classname:""),d.required=!0,v=r.formconfigRemember||{},p.label&&!d.label&&(d.label=" "),d.label&&!p.label&&(p.label=" "),v.label||(v.label="remember me"),v.switchlabel=!0,u.readyPromise().then(function(){h=e.Base.create("itsamessageinput",e.ITSAMessage,[],null,{ATTRS:{username:{value:p.value||"",formtype:"text",formconfig:p,validator:r.validatorUsername,validationerror:r.validationerrorUsername},password:{value:d.value||"",formtype:"password",formconfig:d,validator:r.validatorPassword,validationerror:r.validationerrorPassword},remember:{value:v.value||!1,formtype:e.ITSACheckbox,formconfig:v}}}),n+='<fieldset class="itsa-login"><div class="pure-control-group">{username}</div><div class="pure-control-group">{password}</div><div class="itsa-login-checkbox">{remember}</div></fieldset>';var i=new h;return i.syncPromise=m,i.target="itsadialog",i.title=t,i.message=n,i.footer=y,i.imageButtons=g,i.primaryButton=r.primaryButton||b,i.rejectButton=w,i.target=r.target,i.level=r.level||o||r.type,i.source=r.source||c,i.messageType=l,i.buttonLabels=[{buttonType:"btn_submit",labelHTML:"login"},{buttonType:"imgbtn_submit",labelHTML:'<i class="itsaicon-special-key"></i>login'},{buttonType:"imgbtn_cancel",labelHTML:'<i class="itsaicon-special-cancel"></i>cancel'}],u.queueMessage(i)})},n.prototype._retrieveLoginParams=function(t,n,r,s){var o=typeof n=="string",u,a;return o||(s=r,r=n,n=t,t=null),u=typeof n=="string",u||(s=r,r=n,n="",t=null),a=i.isObject(r),a||(s=r,r={},n="",t=null),typeof s=="function"||(s=function(){return new e.Promise(function(e,t){t(new Error("no syncPromise defined"))})}),{title:t,message:n,config:r,syncPromise:s}},r=e.ITSAMessageController,e[f]=e.bind(r[u+l],r)},"@VERSION@",{requires:["yui-base","gallery-itsamessagecontroller","gallery-itsacheckbox","gallery-itsadialog","gallery-itsamessage","gallery-itsaviewmodelpanel","gallerycss-itsa-base","gallerycss-itsa-animatespin","gallerycss-itsa-special"],skinnable:!0});
