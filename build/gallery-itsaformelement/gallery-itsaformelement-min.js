YUI.add("gallery-itsaformelement",function(e,t){"use strict";var n,r="disabled",i="itsa-widget-parent",s="pure",o="button",u=s+"-"+o,a="date",f="time",l=a+f,c=u+"-"+l,h=u+"-"+r,p=u+"-primary",d="error",v="boolean",m="itsa-"+l+"picker-icon",g=m+a,y=m+f,b=m+l,w="^[\\w!#$%&'*+/=?`{|}~^-]+(?:\\.[\\w!#$%&'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$",E="[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)+(/[\\w-]+)*",S="^(http://)?"+E,x="^(https://)?"+E,T="^(https?://)?"+E,N="^(([-]?[1-9][0-9]*)|0)$",C="^[-]?(([1-9][0-9]*)|0)(\\.[0-9]+)?$",k='<label for="',L="</label>",A="text",O="password",M="email",_="url",D="radio",P="checkbox",H="hidden",B="textarea",j="div",F="label",I="span",q=s+"-"+D,R=s+"-"+P,U="readonly",z="checked",W="required",X="name",V="value",$="placeholder",J="pattern",K="data",Q="class",G="buttonText",Y=l+Q,Z=F+K,et="valueswitched",tt="valuenonswitched",nt="{"+r+"}",rt="{"+U+"}",it="{"+z+"}",st="{"+W+"}",ot="{"+X+"}",ut="{"+V+"}",at="{"+$+"}",ft="{"+J+"}",lt="{"+K+"}",ct="{"+Q+"}",ht='id="{id}"',pt='<label for="{id}"',dt="{"+et+"}",vt="{"+tt+"}",mt="{"+Z+"}",gt="{"+Y+"}",yt="{"+G+"}",bt="type",wt="submit",Et="reset",St="<input "+bt+'="',xt="<"+o+" "+bt+'="',Tt=Q+X,Nt=F+"Class"+X,Ct="focusable",kt=K+"-"+l+"=",Lt="<"+I+" "+ht+">UNDEFINED ELEMENTTYPE</"+I+">",At=St+A+'" '+ht+ot+ut+at+nt+st+rt+ft+lt+ct+" />",Ot=St+O+'" '+ht+ot+ut+at+nt+st+rt+ft+lt+ct+" />",Mt=St+M+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+w+'" />',_t=St+_+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+T+'" />',Dt=St+_+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+S+'" />',Pt=St+_+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+x+'" />',Ht=St+A+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+N+'" />',Bt=St+A+'" '+ht+ot+ut+at+nt+st+rt+lt+ct+" "+J+'="'+C+'" />',jt=St+D+'" '+ht+ot+ut+nt+it+lt+ct+" />",Ft=St+P+'" '+ht+ot+ut+nt+rt+it+lt+ct+" />",It=St+H+'" '+ht+ot+ut+" />",qt="<"+B+" "+ht+ot+at+nt+st+rt+lt+ct+" />"+ut+"</"+B+">",Rt="<"+j+" "+ht+lt+ct+"></"+j+">",Ut=xt+'"'+o+'" '+ht+ot+ut+lt+ct+">"+yt+"</"+o+">",zt=xt+'"'+wt+'" '+ht+ot+ut+lt+ct+">"+yt+"</"+o+">",Wt=xt+'"'+Et+'" '+ht+ot+ut+lt+ct+">"+yt+"</"+o+">",Xt=pt+ct+">"+vt+"<"+o+" "+ht+rt+" "+kt+'"'+a+'"'+lt+" "+Q+'="'+gt+'"><'+I+" "+Q+'="'+g+'"></'+I+"></"+o+">"+dt+"</"+F+">",Vt=pt+ct+">"+vt+"<"+o+" "+ht+rt+" "+kt+'"'+f+'"'+lt+" "+Q+'="'+gt+'"><'+I+" "+Q+'="'+y+'"></'+I+"></"+o+">"+dt+"</"+F+">",$t=pt+ct+">"+vt+"<"+o+" "+ht+rt+" "+kt+'"'+l+'"'+lt+" "+Q+'="'+gt+'"><'+I+" "+Q+'="'+b+'"></'+I+"></"+o+">"+dt+"</"+F+">",Jt=function(t,n,r){return t==="date"?r=r||"%x":t==="time"?r=r||"%X":t==="datetime"&&(r=r||"%x %X"),e.use("gallery-itsadatetimepicker"),e.Date.format(n,{format:r})},Kt=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,Qt=function(t,n){return t.replace?t.replace(Kt,function(t,r){return e.Lang.isUndefined(n[r])?"":n[r]}):t};n=e.ITSAFormElement={},n.getElement=function(t,r,i){var s,o,u,a;i=i||e.guid(),r=r||{},o=typeof t=="function"&&t.prototype.BOUNDING_TEMPLATE,typeof t=="string"&&(t=t.toLowerCase()),s={nodeid:i,html:n._renderedElement(o?t.constructor.NAMEDEF:t,r,i,o)};if(o){u=t;try{a=s.widget=new u(r),a.renderWhenAvailable("#"+i)}catch(f){e.fire(d,f)}}return s},n._renderedElement=function(t,n,s,d){var m=e.merge(n),g=typeof m[r]===v?m[r]:!1,y=typeof m[W]===v?m[W]:t===O,b=typeof m[U]===v?m[U]:!1,w=typeof m[Ct]===v?m[Ct]:!0,E=n.tooltip,S=n.tooltipHeader,x=n.tooltipFooter,T=n.tooltipPlacement,N=n.nossl,C=n.onlyssl,j=n.digits,I=n.length,z,nt,rt,it,st,ot;return st=n[K]||"",st.length>0&&(st=" "+st),I&&(st+=' data-length="'+I+'"'),m[K]=st,E&&(st=' data-content="'+E+'"',S&&(st+=' data-header="'+S+'"'),x&&(st+=' data-footer="'+x+'"'),T&&(st+=' data-placement="'+T+'"'),m[Z]=m[Z]||"",m[n[F]?Z:K]+=st),d?(it=Rt,m[Q]=' class="'+(n[Tt]||"")+" "+i+(w?" "+Ct:"")+'"'):(m[r]=g?" "+r+'="'+r+'"':"",m[W]=y?" "+W+'="'+W+'"':"",m[U]=b?" "+U+'="'+U+'"':"",n[$]&&(m[$]=" "+$+'="'+m[$]+'"'),n[J]&&(m[J]=" "+J+'="'+m[J]+'"'),n[X]&&(m[X]=" "+X+'="'+m[X]+'"'),t!==B&&n[V]&&(m[V]=" "+V+'="'+m[V]+'"'),t===A?it=At:t===O?it=Ot:t===M?it=Mt:t===_?(typeof N===v&&N&&(it=Dt),typeof C===v&&C?it=Pt:it=_t):t==="number"?(it=typeof j===v&&j?Bt:Ht,n.min&&(m[K]+=" data-min="+n.min),n.max&&(m[K]+=" data-max="+n.max)):t===D?(ot=q,it=jt):t===P?(ot=R,it=Ft):t===H?it=It:t===B?it=qt:t===o||t===wt||t===Et?(t===o?it=Ut:t===wt?it=zt:it=Wt,rt=n.primary,nt=g,n[G]||(m[G]=n[V]||t)):t===a||t===f||t===l?(t===a?it=Xt:t===f?it=Vt:t===l&&(it=$t),m[K]+=" data-"+l+'picker="true"',m[Y]=u+" "+c+(g?" "+h:"")+(n.primary?" "+p:""),m[n.switched?et:tt]=Jt(t,n[V],m.format)):it=Lt,(n[Tt]||w)&&(m[Q]=' class="'+(n[Tt]||"")+(w?" "+Ct:"")+(nt?" "+h:"")+(rt?" "+p:"")+'"')),n[F]&&(ot?(z=' class="'+ot+(n[Nt]?" "+n[Nt]:"")+'"',it=k+'"{id}'+mt+z+'">{label}'+it+L):(z=n[Nt]?' class="'+n[Nt]+'"':"",it=k+'"{id}'+mt+z+'">{label}'+L+it)),m.id=s,Qt(it,m)}},"@VERSION@",{requires:["yui-base","base","node-core","node-base","datatype-date-format","classnamemanager","cssbutton","promise","widget-base","gallery-itsawidgetrenderpromise"],skinnable:!0});
