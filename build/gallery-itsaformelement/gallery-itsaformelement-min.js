YUI.add("gallery-itsaformelement",function(e,t){"use strict";var n,r="disabled",i="itsa-widget-parent",s="pure",o="button",u=s+"-"+o,a="date",f="time",l=a+f,c=u+"-"+l,h=u+"-"+r,p=u+"-primary",d="error",v="boolean",m="itsa-"+l+"picker-icon",g=m+a,y=m+f,b=m+l,w="^[\\w!#$%&'*+/=?`{|}~^-]+(?:\\.[\\w!#$%&'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$",E="[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)+(/[\\w-]+)*",S="^(http://)?"+E,x="^(https://)?"+E,T="^(https?://)?"+E,N="^(([-]?[1-9][0-9]*)|0)$",C="^[-]?(([1-9][0-9]*)|0)(\\.[0-9]+)?$",k='<label for="',L="</label>",A="text",O="password",M="email",_="url",D="radio",P="checkbox",H="hidden",B="textarea",j="div",F="label",I="span",q=s+"-"+D,R=s+"-"+P,U="readonly",z="checked",W="required",X="name",V="value",$="placeholder",J="pattern",K="data",Q="class",G="buttonText",Y="switch",Z=Y+"ed",et=Y+F,tt=Y+l,nt=l+Q,rt=F+K,it=V+Z,st=V+"non"+Z,ot="{"+r+"}",ut="{"+U+"}",at="{"+z+"}",ft="{"+W+"}",lt="{"+X+"}",ct="{"+V+"}",ht="{"+$+"}",pt="{"+J+"}",dt="{"+K+"}",vt="{"+Q+"}",mt="{"+H+"}",gt='id="{id}"',yt='<label for="{id}"',bt="{"+it+"}",wt="{"+st+"}",Et="{"+rt+"}",St="{"+nt+"}",xt="{"+G+"}",Tt="type",Nt="submit",Ct="reset",kt="<input "+Tt+'="',Lt="<"+o+" "+Tt+'="',At=Q+X,Ot=F+"Class"+X,Mt="focusable",_t=' data-labeldatetime="true"',Dt=K+"-"+l+"=",Pt="<"+I+" "+gt+">UNDEFINED ELEMENTTYPE</"+I+">",Ht=kt+A+'" '+gt+lt+ct+ht+ot+ft+ut+pt+dt+mt+vt+" />",Bt=kt+O+'" '+gt+lt+ct+ht+ot+ft+ut+pt+dt+mt+vt+" />",jt=kt+M+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+w+'" />',Ft=kt+_+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+T+'" />',It=kt+_+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+S+'" />',qt=kt+_+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+x+'" />',Rt=kt+A+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+N+'" />',Ut=kt+A+'" '+gt+lt+ct+ht+ot+ft+ut+dt+mt+vt+" "+J+'="'+C+'" />',zt=kt+D+'" '+gt+lt+ct+ot+at+dt+mt+vt+" />",Wt=kt+P+'" '+gt+lt+ct+ot+ut+at+dt+mt+vt+" />",Xt=kt+H+'" '+gt+lt+ct+" />",Vt="<"+B+" "+gt+lt+ht+ot+ft+ut+dt+mt+vt+" />"+ct+"</"+B+">",$t="<"+j+" "+gt+dt+vt+"></"+j+">",Jt=Lt+'"'+o+'" '+gt+lt+ct+dt+mt+vt+">"+xt+"</"+o+">",Kt=Lt+'"'+Nt+'" '+gt+lt+ct+dt+mt+vt+">"+xt+"</"+o+">",Qt=Lt+'"'+Ct+'" '+gt+lt+ct+dt+mt+vt+">"+xt+"</"+o+">",Gt=yt+ft+_t+vt+">"+wt+"<"+o+" "+gt+ut+" "+Dt+'"'+a+'"'+dt+" "+Q+'="'+St+'"><'+I+" "+Q+'="'+g+'"></'+I+"></"+o+">"+bt+"</"+F+">",Yt=yt+ft+_t+vt+">"+wt+"<"+o+" "+gt+ut+" "+Dt+'"'+f+'"'+dt+" "+Q+'="'+St+'"><'+I+" "+Q+'="'+y+'"></'+I+"></"+o+">"+bt+"</"+F+">",Zt=yt+ft+_t+vt+">"+wt+"<"+o+" "+gt+ut+" "+Dt+'"'+l+'"'+dt+" "+Q+'="'+St+'"><'+I+" "+Q+'="'+b+'"></'+I+"></"+o+">"+bt+"</"+F+">",en=function(t,n,r){return t==="date"?r=r||"%x":t==="time"?r=r||"%X":t==="datetime"&&(r=r||"%x %X"),e.use("gallery-itsadatetimepicker"),e.Date.format(n,{format:r})},tn=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,nn=function(t,n){return t.replace?t.replace(tn,function(t,r){return e.Lang.isUndefined(n[r])?"":n[r]}):t};n=e.ITSAFormElement={},n.getElement=function(t,r,i){var s,o,u,a;i=i||e.guid(),r=r||{},o=typeof t=="function"&&t.prototype.BOUNDING_TEMPLATE,typeof t=="string"&&(t=t.toLowerCase()),s={nodeid:i,html:n._renderedElement(o?t.constructor.NAMEDEF:t,r,i,o)};if(o){u=t;try{a=s.widget=new u(r),a.renderWhenAvailable("#"+i)}catch(f){e.fire(d,f)}}return s},n._renderedElement=function(t,n,s,d){var m=e.merge(n),g=typeof m[Mt]===v?m[Mt]:!0,y=typeof m[et]===v?m[et]:!1,b=n.tooltip,w=n.tooltipHeader,E=n.tooltipFooter,S=n.tooltipPlacement,x=n.nossl,T=n.onlyssl,N=n.digits,C=n.length,j,I,z,Y,Z,ot,ut,at,ft,lt,ct,ht;return Z=n[K]||"",Z.length>0&&(Z=" "+Z),C&&(Z+=' data-length="'+C+'"'),m[K]=Z,b&&(Z=' data-content="'+b+'"',w&&(Z+=' data-header="'+w+'"'),E&&(Z+=' data-footer="'+E+'"'),S&&(Z+=' data-placement="'+S+'"'),m[rt]=m[rt]||"",ht=d||t===P||t===D,m[ht&&n[F]?rt:K]+=Z),d?(Y=$t,m[Q]=' class="'+(n[At]||"")+" "+i+(g?" "+Mt:"")+'"'):(at=typeof m[r]===v?m[r]:!1,ft=typeof m[W]===v?m[W]:t===O,lt=typeof m[U]===v?m[U]:!1,ut=typeof n[H]===v?n[H]:!1,m[H]=ut?" "+H+'="'+H+'"':"",m[r]=at?" "+r+'="'+r+'"':"",m[W]=ft?" "+W+'="'+W+'"':"",m[U]=lt?" "+U+'="'+U+'"':"",n[$]&&(m[$]=" "+$+'="'+m[$]+'"'),n[J]&&(m[J]=" "+J+'="'+m[J]+'"'),n[X]&&(m[X]=" "+X+'="'+m[X]+'"'),t!==B&&n[V]&&(m[V]=" "+V+'="'+m[V]+'"'),t===A?Y=Ht:t===O?Y=Bt:t===M?Y=jt:t===_?typeof x===v&&x?Y=It:typeof T===v&&T?Y=qt:Y=Ft:t==="number"?(Y=typeof N===v&&N?Ut:Rt,n.min&&(m[K]+=" data-min="+n.min),n.max&&(m[K]+=" data-max="+n.max)):t===D?(ot=q,Y=zt):t===P?(ot=R,Y=Wt):t===H?Y=Xt:t===B?Y=Vt:t===o||t===Nt||t===Ct?(delete m[F],t===o?Y=Jt:t===Nt?Y=Kt:Y=Qt,z=n.primary,I=at,n[G]||(m[G]=n[V]||t)):t===a||t===f||t===l?(t===a?Y=Gt:t===f?Y=Yt:t===l&&(Y=Zt),m[K]+=" data-"+l+'picker="true"',m[nt]=u+" "+c+(at?" "+h:"")+(n.primary?" "+p:""),m[n[tt]?it:st]=en(t,n[V],m.format)):Y=Pt,(n[At]||g)&&(m[Q]=' class="'+(n[At]||"")+(g?" "+Mt:"")+(I?" "+h:"")+(z?" "+p:"")+'"')),m[F]&&(ot?(j=' class="'+ot+(n[Ot]?" "+n[Ot]:"")+'"',Y=k+'"{id}'+Et+j+'">'+(y?Y+"{label}":"{label}"+Y)+L):(j=n[Ot]?' class="'+n[Ot]+'"':"",ct=k+'"{id}'+Et+j+'">{label}'+L,y?Y+=ct:Y=ct+Y)),m.id=s,nn(Y,m)}},"@VERSION@",{requires:["yui-base","base","node-core","node-base","datatype-date-format","classnamemanager","cssbutton","promise","widget-base","gallery-itsawidgetrenderpromise"],skinnable:!0});
