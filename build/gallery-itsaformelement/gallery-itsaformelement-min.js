YUI.add("gallery-itsaformelement",function(e,t){"use strict";var n,r=e.Array,i="disabled",s="itsa-widget-parent",o="pure",u="button",a=o+"-"+u,f="date",l="time",c=f+l,h=a+"-"+c,p=a+"-"+i,d=a+"-primary",v="error",m="boolean",g="min",y="max",b="picker",w="click",E="itsa-icon",S=E+f,x=E+l,T=E+c,N=' data-formelement="true"',C="^[\\w!#$%&'*+/=?`{|}~^-]+(?:\\.[\\w!#$%&'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$",k="[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)+(/[\\w-]+)*",L="^(http://)?"+k,A="^(https://)?"+k,O="^(https?://)?"+k,M="^(([-]?[1-9][0-9]*)|0)$",_="^[-]?(([1-9][0-9]*)|0)(\\.[0-9]+)?$",D='<label for="',P="</label>",H="text",B="password",j="email",F="url",I="radio",q="checkbox",R="hidden",U="textarea",z="div",W="label",X="span",V=o+"-"+I,$=o+"-"+q,J="readonly",K="checked",Q="required",G="name",Y="value",Z="placeholder",et="pattern",tt="data",nt="class",rt="buttonText",it="switch",st=it+"ed",ot=it+W,ut=it+c,at=c+nt,ft=W+tt,lt=Y+st,ct=Y+"non"+st,ht="focusable",pt="{"+i+"}",dt="{"+J+"}",vt="{"+K+"}",mt="{"+Q+"}",gt="{"+G+"}",yt="{"+Y+"}",bt="{"+Z+"}",wt="{"+et+"}",Et="{"+tt+"}",St="{"+nt+"}",xt="{"+R+"}",Tt='id="{id}"',Nt='<label for="{id}"',Ct="{"+lt+"}",kt="{"+ct+"}",Lt="{"+ft+"}",At="{"+at+"}",Ot="{"+rt+"}",Mt="{"+ht+"}",_t="{"+g+"}",Dt="{"+y+"}",Pt="type",Ht="submit",Bt="reset",jt="<input "+Pt+'="',Ft="<"+u+" "+Pt+'="',It=nt+G,qt=W+"Class"+G,Rt=' data-labeldatetime="true"',Ut=tt+"-"+c+"=",zt="<"+X+" "+Tt+">UNDEFINED ELEMENTTYPE</"+X+">",Wt=jt+H+'" '+Tt+gt+yt+bt+pt+mt+dt+wt+Et+Mt+xt+St+" />",Xt=jt+B+'" '+Tt+gt+yt+bt+pt+mt+dt+wt+Et+Mt+xt+St+" />",Vt=jt+j+'" '+Tt+gt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+C+'" />',$t=jt+F+'" '+Tt+gt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+O+'" />',Jt=jt+F+'" '+Tt+gt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+L+'" />',Kt=jt+F+'" '+Tt+gt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+A+'" />',Qt=jt+H+'" '+Tt+gt+_t+Dt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+M+'" />',Gt=jt+H+'" '+Tt+gt+_t+Dt+yt+bt+pt+mt+dt+Et+Mt+xt+St+" "+et+'="'+_+'" />',Yt=jt+I+'" '+Tt+gt+yt+pt+vt+Et+Mt+xt+St+" />",Zt=jt+q+'" '+Tt+gt+yt+pt+dt+vt+Et+Mt+xt+St+" />",en=jt+R+'" '+Tt+gt+yt+" />",tn="<"+U+" "+Tt+gt+bt+pt+mt+dt+Et+Mt+xt+St+" />"+yt+"</"+U+">",nn="<"+z+" "+Tt+Et+Mt+St+"></"+z+">",rn=Ft+'"'+u+'" '+Tt+gt+yt+Et+Mt+xt+St+">"+Ot+"</"+u+">",sn=Nt+mt+Rt+St+">"+kt+"<"+u+" "+Tt+yt+dt+" "+Ut+'"'+f+'"'+Et+Mt+" "+nt+'="'+At+'"><i '+nt+'="'+S+'"></i></'+u+">"+Ct+"</"+W+">",on=Nt+mt+Rt+St+">"+kt+"<"+u+" "+Tt+yt+dt+" "+Ut+'"'+l+'"'+Et+Mt+" "+nt+'="'+At+'"><i '+nt+'="'+x+'"></i></'+u+">"+Ct+"</"+W+">",un=Nt+mt+Rt+St+">"+kt+"<"+u+" "+Tt+yt+dt+" "+Ut+'"'+c+'"'+Et+Mt+" "+nt+'="'+At+'"><i '+nt+'="'+T+'"></i></'+u+">"+Ct+"</"+W+">",an=function(t,n,r,i){return r||(t==="date"?r="%x":t==="time"?r="%X":r="%x %X"),e.use("gallery-itsadatetimepicker"),'<span class="formattime '+(i?"timebehind":"timebefore")+'">'+e.Date.format(n,{format:r})+"</span>"},fn=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,ln=function(t,n){return t.replace?t.replace(fn,function(t,r){return e.Lang.isUndefined(n[r])?"":n[r]}):t};n=e.ITSAFormElement={},n.getElement=function(t,r,i){var s,o,u,a;i=i||e.guid(),r=r||{},o=typeof t=="function"&&t.prototype.BOUNDING_TEMPLATE,typeof t=="string"&&(t=t.toLowerCase()),s={nodeid:i,config:r,name:r.name,html:n._renderedElement(o?t.constructor.NAMEDEF:t,r,i,o)};if(o){u=t;try{a=s.widget=new u(r),a.renderWhenAvailable("#"+i)}catch(f){e.fire(v,f)}}return s},n._renderedElement=function(t,n,r,o){var v=e.merge(n),b=typeof v[ot]===m?v[ot]:!1,w=typeof v[ht]===m?v[ht]:!0,E=n.tooltip,S=n.tooltipHeader,x=n.tooltipFooter,T=n.tooltipPlacement,C=n.nossl,k=n.onlyssl,L=n.digits,A=n.length,O=n[tt],M=N,_,z,X,K,it,st,pt,dt,vt,mt,gt,yt,bt;return O&&(M+=" "+O),A&&(M+=' data-length="'+A+'"'),v[tt]=M,E&&(M=' data-content="'+E+'"',S&&(M+=' data-header="'+S+'"'),x&&(M+=' data-footer="'+x+'"'),T&&(M+=' data-placement="'+T+'"'),v[ft]=v[ft]||"",yt=o||t===q||t===I,v[yt&&n[W]?ft:tt]+=M),o?(K=nn,v[nt]=' class="'+(n[It]||"")+" "+s+'"',e.UA.xhtml?v[ht]=w?" "+ht+'="'+ht+'"':"":v[ht]=w?" "+ht:""):(pt=typeof v[i]===m?v[i]:!1,dt=typeof v[Q]===m?v[Q]:t===B,mt=typeof v[J]===m?v[J]:!1,st=typeof n[R]===m?n[R]:!1,e.UA.xhtml?(v[ht]=w?" "+ht+'="'+ht+'"':"",v[R]=st?" "+R+'="'+R+'"':"",v[i]=pt?" "+i+'="'+i+'"':"",v[Q]=dt?" "+Q+'="'+Q+'"':"",v[J]=mt?" "+J+'="'+J+'"':""):(v[ht]=w?" "+ht:"",v[R]=st?" "+R:"",v[i]=pt?" "+i:"",v[Q]=dt?" "+Q:"",v[J]=mt?" "+J:""),n[Z]&&(v[Z]=" "+Z+'="'+v[Z]+'"'),n[et]&&(v[et]=" "+et+'="'+v[et]+'"'),n[G]&&(v[G]=" "+G+'="'+v[G]+'"'),t!==U&&n[Y]&&(v[Y]=" "+Y+'="'+v[Y]+'"'),t===H?K=Wt:t===B?K=Xt:t===j?K=Vt:t===F?typeof C===m&&C?K=Jt:typeof k===m&&k?K=Kt:K=$t:t==="number"?(K=typeof L===m&&L?Gt:Qt,n.min&&(v[g]=" min="+n.min+'"'),n.max&&(v[y]+=" max="+n.max+'"')):t===I?(it=V,K=Yt):t===q?(it=$,K=Zt):t===R?K=en:t===U?K=tn:t===u||t===Ht||t===Bt?(delete v[W],K=rn,vt=!0,v[tt]+=" data-"+u+Pt+'="'+t+'"',X=n.primary,z=pt,n[rt]||(v[rt]=n[Y]||t),v[Y]||(v[Y]=" "+Y+'="'+v[rt]+'"')):t===f||t===l||t===c?(t===f?K=sn:t===l?K=on:t===c&&(K=un),n[Y]&&(v[Y]=' value="'+n[Y].getTime()+'"'),v[tt]+=" data-"+c+'picker="true"',v[at]=a+" "+h+(pt?" "+p:"")+(n.primary?" "+d:""),bt=n[ut],v[bt?lt:ct]=an(t,n[Y],v.format,bt)):K=zt,(n[It]||vt)&&(v[nt]=' class="'+(n[It]||"")+(vt?" "+a:"")+(z?" "+p:"")+(X?" "+d:"")+'"')),v[W]&&(it?(_=' class="'+it+(n[qt]?" "+n[qt]:"")+'"',K=D+'"{id}'+Lt+_+'">'+(b?K+"{label}":"{label}"+K)+P):(_=n[qt]?' class="'+n[qt]+'"':"",gt=D+'"{id}'+Lt+_+'">{label}'+P,b?K+=gt:K=gt+K)),v.id=r,ln(K,v)},r.each([f,l,c],function(t){e.Event.define(t+b+w,{on:function(e,n,r){n._handle=e.on(w,function(e){var n=e.target;n.getAttribute(tt+"-"+c)===t&&r.fire(e)})},detach:function(e,t){t._handle.detach()},delegate:function(e,n,r,i){n._delegatehandle=e.on(w,function(e){var n=e.target;i&&n.getAttribute(tt+"-"+c)===t&&r.fire(e)},i)},detachDelegate:function(e,t){t._delegatehandle.detach()}})}),r.each([Ht,Bt],function(t){e.Event.define(t+w,{on:function(e,n,r){n._handle=e.on(w,function(e){var n=e.target;n.getAttribute(tt+"-"+u+Pt)===t&&r.fire(e)})},detach:function(e,t){t._handle.detach()
},delegate:function(e,n,r,i){n._delegatehandle=e.on(w,function(e){var n=e.target;i&&n.getAttribute(tt+"-"+u+Pt)===t&&r.fire(e)},i)},detachDelegate:function(e,t){t._delegatehandle.detach()}})}),e.UA.xhtml=e.one("html").getAttribute("xmlns")==="http://www.w3.org/1999/xhtml"},"@VERSION@",{requires:["yui-base","datatype-date-format","event-synthetic","gallery-itsawidgetrenderpromise"],skinnable:!0});
