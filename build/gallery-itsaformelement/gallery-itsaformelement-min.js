YUI.add("gallery-itsaformelement",function(e,t){"use strict";var n,r=e.Array,i="disabled",s="itsa-widget-parent",o="pure",u="button",a=o+"-"+u,f="date",l="time",c=f+l,h=a+"-"+c,p=a+"-"+i,d=a+"-primary",v="modelattribute",m="error",g="boolean",y="min",b="max",w="picker",E="click",S="itsa-icon",x=S+f,T=S+l,N=S+c,C=' data-formelement="true"',k='<span class="format',L="</span>",A="^[\\w!#$%&'*+/=?`{|}~^-]+(?:\\.[\\w!#$%&'*+/=?`{|}~^-]+)*@(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}$",O="[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)+(/[\\w-]+)*",M="^(http://)?"+O,_="^(https://)?"+O,D="^(https?://)?"+O,P="^(([-]?[1-9][0-9]*)|0)$",H="^[-]?(([1-9][0-9]*)|0)(\\.[0-9]+)?$",B='<label for="',j="</label>",F="text",I="password",q="email",R="url",U="radio",z="checkbox",W="hidden",X="textarea",V="div",$="label",J="span",K=o+"-"+U,Q=o+"-"+z,G="readonly",Y="checked",Z="required",et="name",tt="value",nt="placeholder",rt="pattern",it="data",st="class",ot="buttonText",ut="switch",at=ut+"ed",ft=ut+$,lt=ut+tt,ct=c+st,ht=$+it,pt=tt+at,dt=tt+"non"+at,vt="focusable",mt="{"+i+"}",gt="{"+G+"}",yt="{"+Y+"}",bt="{"+Z+"}",wt="{"+et+"}",Et="{"+tt+"}",St="{"+nt+"}",xt="{"+rt+"}",Tt="{"+it+"}",Nt="{"+st+"}",Ct="{"+W+"}",kt='id="{id}"',Lt='<label for="{id}"',At="{"+pt+"}",Ot="{"+dt+"}",Mt="{"+ht+"}",_t="{"+ct+"}",Dt="{"+ot+"}",Pt="{"+vt+"}",Ht="{"+y+"}",Bt="{"+b+"}",jt="type",Ft="submit",It="reset",qt="<input "+jt+'="',Rt="<"+u+" "+jt+'="',Ut=st+et,zt=$+"Class"+et,Wt=' data-labeldatetime="true"',Xt=it+"-"+c+"=",Vt="<"+J+" "+kt+">UNDEFINED ELEMENTTYPE</"+J+">",$t=qt+F+'" '+kt+wt+Et+St+mt+bt+gt+xt+Tt+Pt+Ct+Nt+" />",Jt=qt+I+'" '+kt+wt+Et+St+mt+bt+gt+xt+Tt+Pt+Ct+Nt+" />",Kt=qt+q+'" '+kt+wt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+A+'" />',Qt=qt+R+'" '+kt+wt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+D+'" />',Gt=qt+R+'" '+kt+wt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+M+'" />',Yt=qt+R+'" '+kt+wt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+_+'" />',Zt=qt+F+'" '+kt+wt+Ht+Bt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+P+'" />',en=qt+F+'" '+kt+wt+Ht+Bt+Et+St+mt+bt+gt+Tt+Pt+Ct+Nt+" "+rt+'="'+H+'" />',tn=qt+U+'" '+kt+wt+Et+mt+yt+Tt+Pt+Ct+Nt+" />",nn=qt+z+'" '+kt+wt+Et+mt+gt+yt+Tt+Pt+Ct+Nt+" />",rn=qt+W+'" '+kt+wt+Et+" />",sn="<"+X+" "+kt+wt+St+mt+bt+gt+Tt+Pt+Ct+Nt+" />"+Et+"</"+X+">",on=Ot+"<"+V+" "+kt+Tt+Pt+Nt+"></"+V+">"+At,un=Rt+'"'+u+'" '+kt+wt+Et+Tt+Pt+Ct+Nt+">"+Dt+"</"+u+">",an=Lt+bt+Wt+Nt+">"+Ot+"<"+u+" "+kt+wt+Et+gt+" "+Xt+'"'+f+'"'+Tt+Pt+" "+st+'="'+_t+'"><i '+st+'="'+x+'"></i></'+u+">"+At+"</"+$+">",fn=Lt+bt+Wt+Nt+">"+Ot+"<"+u+" "+kt+wt+Et+gt+" "+Xt+'"'+l+'"'+Tt+Pt+" "+st+'="'+_t+'"><i '+st+'="'+T+'"></i></'+u+">"+At+"</"+$+">",ln=Lt+bt+Wt+Nt+">"+Ot+"<"+u+" "+kt+wt+Et+gt+" "+Xt+'"'+c+'"'+Tt+Pt+" "+st+'="'+_t+'"><i '+st+'="'+N+'"></i></'+u+">"+At+"</"+$+">",cn=function(t,n,r,i,s){return i||(t==="date"?i="%x":t==="time"?i="%X":i="%x %X"),e.use("gallery-itsadatetimepicker"),k+"value formattime-"+n+'" data-for="'+s+'">'+e.Date.format(r,{format:i})+L},hn=/\{\s*([^|}]+?)\s*(?:\|([^}]*))?\s*\}/g,pn=function(t,n){return t.replace?t.replace(hn,function(t,r){return e.Lang.isUndefined(n[r])?"":n[r]}):t};n=e.ITSAFormElement={},n.getElement=function(t,r,i){var s,o,u,a;i=i||e.guid(),r=r||{},o=typeof t=="function"&&t.prototype.BOUNDING_TEMPLATE,typeof t=="string"&&(t=t.toLowerCase()),s={type:t,nodeid:i,config:r,name:r.name,html:n._renderedElement(o?t.NAME:t,r,i,o)};if(o){u=t;try{a=s.widget=new u(r.widgetconfig),a.renderWhenAvailable("#"+i)}catch(f){e.fire(m,f)}}return s},n._renderedElement=function(t,n,r,o){var m=e.merge(n),w=typeof m[ft]===g?m[ft]:!1,E=typeof m[vt]===g?m[vt]:!0,S=n.tooltip,x=n.tooltipHeader,T=n.tooltipFooter,N=n.tooltipPlacement,A=n.nossl,O=n.onlyssl,M=n.digits,_=n.length,D=n[tt],P=n[v],H=n[lt],V=n[it],J=C,Y,ut,at,mt,gt,yt,bt,wt,Et,St,xt;return V&&(J+=" "+V),_&&(J+=' data-length="'+_+'"'),P&&(J+=" data-"+v+'="true"'),m[it]=J,S&&(J=' data-content="'+S+'"',x&&(J+=' data-header="'+x+'"'),T&&(J+=' data-footer="'+T+'"'),N&&(J+=' data-placement="'+N+'"'),m[ht]=m[ht]||"",m[it]+=J),o?(mt=on,m[st]=' class="'+(n[Ut]||"")+" "+s+'"',n[$]&&(m[ht]+=' data-widgetlabel="true"'),m[vt]=E?" "+vt+'="'+vt+'"':"",t==="slider"&&(m[H?pt:dt]=k+"value formatslider-"+n.name+'" data-for="'+r+'">'+D+L)):(bt=typeof m[i]===g?m[i]:!1,wt=typeof m[Z]===g?m[Z]:t===I,St=typeof m[G]===g?m[G]:!1,yt=typeof n[W]===g?n[W]:!1,m[vt]=E?" "+vt+'="'+vt+'"':"",m[W]=yt?" "+W+'="'+W+'"':"",m[i]=bt?" "+i+'="'+i+'"':"",m[Z]=wt?" "+Z+'="'+Z+'"':"",m[G]=St?" "+G+'="'+G+'"':"",n[nt]&&(m[nt]=" "+nt+'="'+m[nt]+'"'),n[rt]&&(m[rt]=" "+rt+'="'+m[rt]+'"'),n[et]&&(m[et]=" "+et+'="'+m[et]+'"'),t!==X&&D&&(m[tt]=" "+tt+'="'+m[tt]+'"'),t===F?mt=$t:t===I?mt=Jt:t===q?mt=Kt:t===R?typeof A===g&&A?mt=Gt:typeof O===g&&O?mt=Yt:mt=Qt:t==="number"?(mt=typeof M===g&&M?en:Zt,n.min&&(m[y]=" min="+n.min+'"'),n.max&&(m[b]+=" max="+n.max+'"')):t===U?(gt=K,mt=tn):t===z?(gt=Q,mt=nn):t===W?mt=rn:t===X?mt=sn:t===u||t===Ft||t===It?(delete m[$],mt=un,Et=!0,m[it]+=" data-"+u+jt+'="'+t+'"',at=n.primary,ut=bt,n[ot]||(m[ot]=D||t),m[tt]||(m[tt]=" "+tt+'="'+m[ot]+'"')):t===f||t===l||t===c?(t===f?mt=an:t===l?mt=fn:t===c&&(mt=ln),D&&(m[tt]=' value="'+D.getTime()+'"'),m[it]+=" data-"+c+'picker="true"',m[ct]=a+" "+h+(bt?" "+p:"")+(n.primary?" "+d:""),m[H?pt:dt]=cn(t,n.name||"",D,m.format,r)):mt=Vt,(n[Ut]||Et)&&(m[st]=' class="'+(n[Ut]||"")+(Et?" "+a:"")+(ut?" "+p:"")+(at?" "+d:"")+'"')),m[$]&&(gt?(m[$]='<span class="formatlabel">'+m[$]+L,Y=' class="'+gt+(n[zt]?" "+n[zt]:"")+'"',mt=B+'{id}"'+Mt+Y+">"+(w?mt+"{label}":"{label}"+mt)+j):(Y=n[zt]?' class="'+n[zt]+'"':"",xt=B+'{id}"'+Mt+Y+">{label}"+j,w?mt+=xt:mt=xt+mt)),m.id=r,pn(mt,m)},r.each([f,l,c],function(t){e.Event.define(t+w+E,{on:function(e,n,r){n._handle=e.on(E,function(e){var n=e.target;n.getAttribute(it+"-"+c)===t&&r.fire(e)})},detach:function(e,t){t._handle.detach()},delegate:function(e,n,r,i){n._delegatehandle=e.on(E,function(e){var n=e.target;i&&n.getAttribute(it+"-"+c)===t&&r.fire(e)},i)},detachDelegate:function(e,t){t._delegatehandle.detach()}})}),r.each([Ft,It],function(t){e.Event.define(t+E,{on:
function(e,n,r){n._handle=e.on(E,function(e){var n=e.target;n.getAttribute(it+"-"+u+jt)===t&&r.fire(e)})},detach:function(e,t){t._handle.detach()},delegate:function(e,n,r,i){n._delegatehandle=e.on(E,function(e){var n=e.target;i&&n.getAttribute(it+"-"+u+jt)===t&&r.fire(e)},i)},detachDelegate:function(e,t){t._delegatehandle.detach()}})})},"@VERSION@",{requires:["yui-base","datatype-date-format","event-synthetic","gallery-itsawidgetrenderpromise"],skinnable:!0});
