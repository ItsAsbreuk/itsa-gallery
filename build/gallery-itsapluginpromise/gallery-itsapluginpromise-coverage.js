if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-itsapluginpromise/gallery-itsapluginpromise.js']) {
   __coverage__['build/gallery-itsapluginpromise/gallery-itsapluginpromise.js'] = {"path":"build/gallery-itsapluginpromise/gallery-itsapluginpromise.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":37},"end":{"line":1,"column":56}}},"2":{"name":"ITSAPluginPromise","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":29}}},"3":{"name":"(anonymous_3)","line":43,"loc":{"start":{"line":43,"column":23},"end":{"line":43,"column":36}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":12},"end":{"line":47,"column":23}}},"5":{"name":"(anonymous_5)","line":48,"loc":{"start":{"line":48,"column":37},"end":{"line":48,"column":64}}},"6":{"name":"(anonymous_6)","line":67,"loc":{"start":{"line":67,"column":23},"end":{"line":67,"column":34}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":55},"end":{"line":75,"column":74}}},"8":{"name":"(anonymous_8)","line":101,"loc":{"start":{"line":101,"column":18},"end":{"line":101,"column":29}}},"9":{"name":"(anonymous_9)","line":107,"loc":{"start":{"line":107,"column":12},"end":{"line":107,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":130,"column":3}},"2":{"start":{"line":28,"column":0},"end":{"line":28,"column":31}},"3":{"start":{"line":30,"column":0},"end":{"line":114,"column":3}},"4":{"start":{"line":44,"column":8},"end":{"line":44,"column":24}},"5":{"start":{"line":46,"column":8},"end":{"line":57,"column":10}},"6":{"start":{"line":48,"column":16},"end":{"line":55,"column":19}},"7":{"start":{"line":49,"column":20},"end":{"line":54,"column":21}},"8":{"start":{"line":50,"column":24},"end":{"line":50,"column":38}},"9":{"start":{"line":53,"column":24},"end":{"line":53,"column":66}},"10":{"start":{"line":68,"column":8},"end":{"line":68,"column":24}},"11":{"start":{"line":70,"column":8},"end":{"line":79,"column":9}},"12":{"start":{"line":71,"column":12},"end":{"line":78,"column":13}},"13":{"start":{"line":72,"column":16},"end":{"line":72,"column":62}},"14":{"start":{"line":75,"column":16},"end":{"line":77,"column":19}},"15":{"start":{"line":76,"column":20},"end":{"line":76,"column":30}},"16":{"start":{"line":80,"column":8},"end":{"line":80,"column":38}},"17":{"start":{"line":103,"column":8},"end":{"line":104,"column":31}},"18":{"start":{"line":106,"column":8},"end":{"line":111,"column":10}},"19":{"start":{"line":108,"column":16},"end":{"line":108,"column":44}},"20":{"start":{"line":109,"column":16},"end":{"line":109,"column":28}},"21":{"start":{"line":116,"column":0},"end":{"line":116,"column":52}},"22":{"start":{"line":118,"column":0},"end":{"line":118,"column":47}}},"branchMap":{"1":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":20},"end":{"line":49,"column":20}},{"start":{"line":49,"column":20},"end":{"line":49,"column":20}}]},"2":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":8}},{"start":{"line":70,"column":8},"end":{"line":70,"column":8}}]},"3":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":12}},{"start":{"line":71,"column":12},"end":{"line":71,"column":12}}]}},"code":["(function () { YUI.add('gallery-itsapluginpromise', function (Y, NAME) {","","'use strict';","","/**"," * Declaration of three methods added to Y.Plugin.Host:"," *"," *"," * Y.Plugin.Host.hasPluginPromise();"," * Y.Plugin.Host.hostReadyPromise();"," * Y.Plugin.Host.plugPromise();"," *"," * These methods all return Promises which resolve as soon as the Host is ready, which is asynchronious delayed in case of a Widget."," * In case of a widget, hostReadyPromise() is fulfilled as soon as the widget is rendered (===widget.renderPromise())."," *"," * These methods might be needed with some widgets where a Plugin can only be plugged-in when the widget is ready rendering."," *"," *"," * @module gallery-itsapluginpromise"," * @class Y.Pugin.Host"," * @since 0.1"," *"," * <i>Copyright (c) 2012 Marco Asbreuk - http://theinternetwizard.net</i>"," * YUI BSD License - http://developer.yahoo.com/yui/license.html"," *","*/","","function ITSAPluginPromise() {}","","Y.mix(ITSAPluginPromise.prototype, {","    /**","      * Determines if a plugin has plugged into this host, but checks <b>after the host is ready</b> (rendered in case of widgets).","      * This means you are sure any plugins at declaration (declared by Base config.plugins) are really there.","      * <br /><br />The promise will be resolved if the plugin is plugged in, otherwise rejected.","      *","      * @method hasPluginPromise","      * @param {String} ns The plugin's namespace","      * @return {Y.Promise} --> resolve(status) - status=Host-object;","      * reject(reason) --> reject will only happen if a host-widget is not rendered before timeout of 20 seconds.","      * @since 0.1","      * @return {Promise} --> resolve(host) or reject(reason) where 'reason' is that ns is not plugged in.","    */","    hasPluginPromise : function(ns) {","        var host = this;","","        return host.hostReadyPromise().then(","            function() {","                return new Y.Promise(function (resolve, reject) {","                    if (host.hasPlugin(ns)) {","                        resolve(host);","                    }","                    else {","                        reject(new Error(ns + ' not plugged in'));","                    }","                });","            }","        );","    },","","    /**","      * Resolves when the host is ready. In case of a widget, this will be after rendered: widget.renderPromise(), otherwise immediatly.","      *","      * @method hostReadyPromise","      * @since 0.1","      * @return {Promise} --> resolve() or reject(reason) can only be rejected when a widget didn't render within 20 seconds.","    */","    hostReadyPromise : function() {","        var host = this;","","        if (!host._hostreadypromise) {","            if (host instanceof Y.Base) {","                host._hostreadypromise = host.renderPromise();","            }","            else {","                host._hostreadypromise = new Y.Promise(function (resolve) {","                    resolve();","                });","            }","        }","        return host._hostreadypromise;","    },","","    /**","      * Adds a plugin to the host object, just as 'plug()' would do.  The difference is that plugPromise will wait until the host is rendered.","      * <br />In case the host is a Widget, you can be sure the widget is ready (rendered). In case the host is not a widget, then the plugin","      * <br />will happen instantly. You get a 'promise' that the plugin will be possible.","      *","      * @method plugPromise","      * @param plugin {Function | Object |Array} Accepts the plugin class, or an","      * object with a \"fn\" property specifying the plugin class and","      * a \"cfg\" property specifying the configuration for the Plugin.","      * <p>","      * Additionally an Array can also be passed in, with the above function or","      * object values, allowing the user to add multiple plugins in a single call.","      * </p>","      * @param config (Optional) If the first argument is the plugin class, the second argument","      * can be the configuration for the plugin.","      * @since 0.1","      * @return {Promise} --> resolve(host) or reject(reason) can only be rejected when a widget didn't render within 20 seconds.","    */","    plugPromise : function() {","        // store 'arguments' inside 'args' --> because new Promise() has other arguments","        var host = this,","              args = arguments;","","        return host.hostReadyPromise().then(","            function() {","                host.plug.apply(host, args);","                return host;","            }","        );","    }","","});","","Y.Plugin.Host.ITSAPluginPromise = ITSAPluginPromise;","","Y.Base.mix(Y.Plugin.Host, [ITSAPluginPromise]);","","}, '@VERSION@', {","    \"requires\": [","        \"yui-base\",","        \"base-base\",","        \"base-build\",","        \"pluginhost-base\",","        \"event-delegate\",","        \"promise\",","        \"gallery-itsawidgetrenderpromise\"","    ]","});","","}());"]};
}
var __cov_S_HmUemhXqiLjc6VS8BcPg = __coverage__['build/gallery-itsapluginpromise/gallery-itsapluginpromise.js'];
__cov_S_HmUemhXqiLjc6VS8BcPg.s['1']++;YUI.add('gallery-itsapluginpromise',function(Y,NAME){'use strict';__cov_S_HmUemhXqiLjc6VS8BcPg.f['1']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['2']++;function ITSAPluginPromise(){__cov_S_HmUemhXqiLjc6VS8BcPg.f['2']++;}__cov_S_HmUemhXqiLjc6VS8BcPg.s['3']++;Y.mix(ITSAPluginPromise.prototype,{hasPluginPromise:function(ns){__cov_S_HmUemhXqiLjc6VS8BcPg.f['3']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['4']++;var host=this;__cov_S_HmUemhXqiLjc6VS8BcPg.s['5']++;return host.hostReadyPromise().then(function(){__cov_S_HmUemhXqiLjc6VS8BcPg.f['4']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['6']++;return new Y.Promise(function(resolve,reject){__cov_S_HmUemhXqiLjc6VS8BcPg.f['5']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['7']++;if(host.hasPlugin(ns)){__cov_S_HmUemhXqiLjc6VS8BcPg.b['1'][0]++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['8']++;resolve(host);}else{__cov_S_HmUemhXqiLjc6VS8BcPg.b['1'][1]++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['9']++;reject(new Error(ns+' not plugged in'));}});});},hostReadyPromise:function(){__cov_S_HmUemhXqiLjc6VS8BcPg.f['6']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['10']++;var host=this;__cov_S_HmUemhXqiLjc6VS8BcPg.s['11']++;if(!host._hostreadypromise){__cov_S_HmUemhXqiLjc6VS8BcPg.b['2'][0]++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['12']++;if(host instanceof Y.Base){__cov_S_HmUemhXqiLjc6VS8BcPg.b['3'][0]++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['13']++;host._hostreadypromise=host.renderPromise();}else{__cov_S_HmUemhXqiLjc6VS8BcPg.b['3'][1]++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['14']++;host._hostreadypromise=new Y.Promise(function(resolve){__cov_S_HmUemhXqiLjc6VS8BcPg.f['7']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['15']++;resolve();});}}else{__cov_S_HmUemhXqiLjc6VS8BcPg.b['2'][1]++;}__cov_S_HmUemhXqiLjc6VS8BcPg.s['16']++;return host._hostreadypromise;},plugPromise:function(){__cov_S_HmUemhXqiLjc6VS8BcPg.f['8']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['17']++;var host=this,args=arguments;__cov_S_HmUemhXqiLjc6VS8BcPg.s['18']++;return host.hostReadyPromise().then(function(){__cov_S_HmUemhXqiLjc6VS8BcPg.f['9']++;__cov_S_HmUemhXqiLjc6VS8BcPg.s['19']++;host.plug.apply(host,args);__cov_S_HmUemhXqiLjc6VS8BcPg.s['20']++;return host;});}});__cov_S_HmUemhXqiLjc6VS8BcPg.s['21']++;Y.Plugin.Host.ITSAPluginPromise=ITSAPluginPromise;__cov_S_HmUemhXqiLjc6VS8BcPg.s['22']++;Y.Base.mix(Y.Plugin.Host,[ITSAPluginPromise]);},'@VERSION@',{'requires':['yui-base','base-base','base-build','pluginhost-base','event-delegate','promise','gallery-itsawidgetrenderpromise']});
