YUI.add("gallery-itsadialog",function(e,t){"use strict";function l(){l.superclass.constructor.apply(this,arguments)}var n=e.Array,r=5e3,i="model",s="title",o="footer",u="info",a="warn",f="error";l.NAME="itsadialog",e.extend(l,e.ITSAMessageViewer),l.prototype.initializer=function(){var t=this;t._eventhandlers=[],e.later(r,t,t.renderPromise)},l.prototype.renderPromise=function(){var t=this;return t._renderPromise||(t._renderPromise=e.usePromise("gallery-itsaviewmodelpanel").then(e.bind(t._renderPanels,t)))},l.prototype._renderPanels=function(){var t=this,n={visible:!1,centered:!0,modal:!0,minWidth:200,dragable:!0},r=t._eventhandlers,s;s=t.panels={},s[u]=new e.ITSAViewModelPanel(n),s[a]=new e.ITSAViewModelPanel(n),s[f]=new e.ITSAViewModelPanel(n),r.push(s[u].on("*:hide",function(e){var t=e.target,n=t.get(i);n.resolvePromise()})),r.push(s[a].on("*:hide",function(e){var t=e.target,n=t.get(i);n.resolvePromise()})),r.push(s[f].on("*:hide",function(e){var t=e.target,n=t.get(i);n.resolvePromise()})),s[u].render(),s[a].render(),s[f].render()},l.prototype.viewMessage=function(e){var t=this;t.renderPromise().then(function(){var n=e.get("level"),r=e.get("primarybutton"),l=t.panels,c=l[n],h=e.get(o),p=/btn_/.test(h),d;l[u].hide(),l[a].hide(),l[f].hide(),c=l[n],c.set(s+"Right",p?"":null),c.set("template",e.get("message")),c.set(o+"Template",h),h&&r&&(d=c.get("footerView"),alert(d),d.setPrimaryButton(r),d.render()),c.set(i,e),c.set(s,e.get(s)),c.show()})},l.prototype.destructor=function(){var e=this.panels;this._clearEventhandlers(),e[u].destroy(),e[a].destroy(),e[f].destroy()},l.prototype._clearEventhandlers=function(){var e=this;n.each(e._eventhandlers,function(e){e.detach()})},YUI.Env.ITSADialog=new l({handleAnonymous:!0})},"@VERSION@",{requires:["yui-base","promise","event-custom-base","yui-later","oop","gallery-itsaviewmodelpanel","gallery-itsamodulesloadedpromise","gallery-itsamessageviewer"]});
