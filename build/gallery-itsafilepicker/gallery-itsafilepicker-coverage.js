if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/gallery-itsafilepicker/gallery-itsafilepicker.js']) {
   __coverage__['build/gallery-itsafilepicker/gallery-itsafilepicker.js'] = {"path":"build/gallery-itsafilepicker/gallery-itsafilepicker.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":34},"end":{"line":1,"column":53}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":29}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":12},"end":{"line":39,"column":23}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":12},"end":{"line":44,"column":23}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":33}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":12},"end":{"line":65,"column":23}}},"7":{"name":"(anonymous_7)","line":69,"loc":{"start":{"line":69,"column":44},"end":{"line":69,"column":71}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":24},"end":{"line":73,"column":36}}},"9":{"name":"(anonymous_9)","line":94,"loc":{"start":{"line":94,"column":24},"end":{"line":94,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":141,"column":3}},"2":{"start":{"line":26,"column":0},"end":{"line":110,"column":3}},"3":{"start":{"line":34,"column":8},"end":{"line":34,"column":28}},"4":{"start":{"line":37,"column":8},"end":{"line":47,"column":10}},"5":{"start":{"line":40,"column":16},"end":{"line":40,"column":45}},"6":{"start":{"line":45,"column":16},"end":{"line":45,"column":68}},"7":{"start":{"line":62,"column":8},"end":{"line":62,"column":28}},"8":{"start":{"line":64,"column":8},"end":{"line":107,"column":10}},"9":{"start":{"line":66,"column":16},"end":{"line":67,"column":34}},"10":{"start":{"line":68,"column":16},"end":{"line":68,"column":88}},"11":{"start":{"line":69,"column":16},"end":{"line":103,"column":19}},"12":{"start":{"line":70,"column":20},"end":{"line":70,"column":54}},"13":{"start":{"line":71,"column":20},"end":{"line":91,"column":22}},"14":{"start":{"line":74,"column":28},"end":{"line":75,"column":40}},"15":{"start":{"line":76,"column":28},"end":{"line":76,"column":51}},"16":{"start":{"line":77,"column":28},"end":{"line":83,"column":29}},"17":{"start":{"line":78,"column":32},"end":{"line":78,"column":79}},"18":{"start":{"line":79,"column":32},"end":{"line":82,"column":33}},"19":{"start":{"line":81,"column":36},"end":{"line":81,"column":53}},"20":{"start":{"line":84,"column":28},"end":{"line":88,"column":31}},"21":{"start":{"line":89,"column":28},"end":{"line":89,"column":44}},"22":{"start":{"line":92,"column":20},"end":{"line":102,"column":22}},"23":{"start":{"line":95,"column":28},"end":{"line":96,"column":64}},"24":{"start":{"line":97,"column":28},"end":{"line":100,"column":29}},"25":{"start":{"line":98,"column":32},"end":{"line":98,"column":56}},"26":{"start":{"line":99,"column":32},"end":{"line":99,"column":98}},"27":{"start":{"line":104,"column":16},"end":{"line":104,"column":32}},"28":{"start":{"line":105,"column":16},"end":{"line":105,"column":35}},"29":{"start":{"line":112,"column":0},"end":{"line":128,"column":1}},"30":{"start":{"line":113,"column":4},"end":{"line":113,"column":65}},"31":{"start":{"line":114,"column":4},"end":{"line":114,"column":63}},"32":{"start":{"line":115,"column":4},"end":{"line":115,"column":61}},"33":{"start":{"line":116,"column":4},"end":{"line":116,"column":46}},"34":{"start":{"line":117,"column":4},"end":{"line":117,"column":85}},"35":{"start":{"line":118,"column":4},"end":{"line":126,"column":6}},"36":{"start":{"line":127,"column":4},"end":{"line":127,"column":68}},"37":{"start":{"line":130,"column":0},"end":{"line":130,"column":43}}},"branchMap":{"1":{"line":68,"type":"cond-expr","locations":[{"start":{"line":68,"column":67},"end":{"line":68,"column":74}},{"start":{"line":68,"column":77},"end":{"line":68,"column":85}}]},"2":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":28},"end":{"line":77,"column":28}},{"start":{"line":77,"column":28},"end":{"line":77,"column":28}}]},"3":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":32},"end":{"line":79,"column":32}},{"start":{"line":79,"column":32},"end":{"line":79,"column":32}}]},"4":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":28},"end":{"line":97,"column":28}},{"start":{"line":97,"column":28},"end":{"line":97,"column":28}}]},"5":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":32},"end":{"line":97,"column":38}},{"start":{"line":97,"column":43},"end":{"line":97,"column":77}}]},"6":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":0},"end":{"line":112,"column":0}},{"start":{"line":112,"column":0},"end":{"line":112,"column":0}}]}},"code":["(function () { YUI.add('gallery-itsafilepicker', function (Y, NAME) {","","'use strict';","","/**"," *"," * Class ITSAFilePicker"," *"," *"," * Class that pickes dates and times using Promises. It can be used as a date-picker, time-picker or both.<br />"," * The Class also can render 3 button-Nodes with calendar-icon, time-icon or both."," *"," * @module gallery-itsafilepicker"," * @extends Base"," * @class ITSAFilePicker"," * @constructor"," * @since 0.1"," *"," * <i>Copyright (c) 2013 Marco Asbreuk - http://itsasbreuk.nl</i>"," * YUI BSD License - http://developer.yahoo.com/yui/license.html"," *","*/","","//===============================================================================================","","Y.ITSAFilePicker = Y.Base.create('itsafilepicker', Y.ITSAFileManager, [], {","","    /**","     * @method initializer","     * @protected","     * @since 0.1","    */","    initializer : function() {","        var instance = this;","","        // instance.readyPromise does not exists at this time, but it does when the widget is rendered:","        instance.renderPromise()","        .then(","            function() {","                return instance.readyPromise;","            }","         )","        .then(","            function() {","                instance.filescrollview.set('dblclickEvents', true);","            }","        );","     },","","    /**","     * @method getFile","     * @param multiple {Boolean} whether to select a single or multiple files","     * @return {Y.Promise} the promised selected file-object.","     * The Fulfilled-function has 1 parameter <b>response</b> which is an object with three properties:<br />","     * response.directory {String}, response.file {Object} and response.files {Array} which only exists when 'multiple' is true.","     * response.file is always the file that has been double clicked, while response.files is an array that contains all files","     * (including the double clicked file)<br />","     * The file-object has a property-structure as specified in ITSAFileManager's 'filestructure'.","     * @since 0.1","    */","    getFile : function(multiple) {","        var instance = this;","","        return instance.dataPromise.then(","            function() {","                var filescrollview = instance.filescrollview,","                      filepromise;","                filescrollview.set('modelsSelectable', (multiple ? 'multi' : 'single'));","                filepromise = new Y.Promise(function (resolve, reject) {","                    var resolvehandler, rejecthandler;","                    resolvehandler = instance.once(","                        'itsascrollviewmodellist:modelDblclick',","                        function(e) {","                            var file = e.model,","                                  files;","                            rejecthandler.detach();","                            if (multiple) {","                                files = filescrollview.getSelectedModels(true);","                                if (Y.Array.indexOf(files, file)===-1) {","                                    // the item that was clicked on is not yet part of the selection: add it","                                    files.push(file);","                                }","                            }","                            resolve({","                                directory: instance.getCurrentDir(),","                                file: file,","                                files: files","                            });","                            instance.hide();","                        }","                    );","                    rejecthandler = instance.once(","                        '*:visibleChange',","                        function(e) {","                            var target = e.target,","                                  hidden = (e.newVal === false);","                            if (hidden && (target instanceof Y.ITSAFilePicker)) {","                                resolvehandler.detach();","                                reject(new Error('Fileselector closed without selecting a file'));","                            }","                        }","                    );","                });","                instance.show();","                return filepromise;","            }","        );","     }","","});","","if (!Y.Global.ItsaFilePicker) {","    var winHeight, winWidth, defaultWidth, defaultHeight, config;","    winHeight = parseInt(Y.one('window').get('winHeight'), 10);","    winWidth = parseInt(Y.one('window').get('winWidth'), 10);","    defaultHeight = Math.round(winHeight*0.9);","    defaultWidth = Math.min(Math.round(defaultHeight*1.3), Math.round(winWidth*0.9));","    config = {","        width: defaultWidth,","        height: defaultHeight,","        zIndex: 15000,","        centered: true,","        modal: true,","        visible: false,","        plugins: [Y.Plugin.Drag, Y.Plugin.Resize]","    };","    Y.Global.ItsaFilePicker = new Y.ITSAFilePicker(config).render();","}","","Y.ItsaFilePicker = Y.Global.ItsaFilePicker;","","}, '@VERSION@', {","    \"requires\": [","        \"yui-base\",","        \"promise\",","        \"dd-plugin\",","        \"resize-plugin\",","        \"gallery-itsawidgetrenderpromise\",","        \"gallery-itsafilemanager\"","    ]","});","","}());"]};
}
var __cov_rQvvhcSAHS4y60javxhZBA = __coverage__['build/gallery-itsafilepicker/gallery-itsafilepicker.js'];
__cov_rQvvhcSAHS4y60javxhZBA.s['1']++;YUI.add('gallery-itsafilepicker',function(Y,NAME){'use strict';__cov_rQvvhcSAHS4y60javxhZBA.f['1']++;__cov_rQvvhcSAHS4y60javxhZBA.s['2']++;Y.ITSAFilePicker=Y.Base.create('itsafilepicker',Y.ITSAFileManager,[],{initializer:function(){__cov_rQvvhcSAHS4y60javxhZBA.f['2']++;__cov_rQvvhcSAHS4y60javxhZBA.s['3']++;var instance=this;__cov_rQvvhcSAHS4y60javxhZBA.s['4']++;instance.renderPromise().then(function(){__cov_rQvvhcSAHS4y60javxhZBA.f['3']++;__cov_rQvvhcSAHS4y60javxhZBA.s['5']++;return instance.readyPromise;}).then(function(){__cov_rQvvhcSAHS4y60javxhZBA.f['4']++;__cov_rQvvhcSAHS4y60javxhZBA.s['6']++;instance.filescrollview.set('dblclickEvents',true);});},getFile:function(multiple){__cov_rQvvhcSAHS4y60javxhZBA.f['5']++;__cov_rQvvhcSAHS4y60javxhZBA.s['7']++;var instance=this;__cov_rQvvhcSAHS4y60javxhZBA.s['8']++;return instance.dataPromise.then(function(){__cov_rQvvhcSAHS4y60javxhZBA.f['6']++;__cov_rQvvhcSAHS4y60javxhZBA.s['9']++;var filescrollview=instance.filescrollview,filepromise;__cov_rQvvhcSAHS4y60javxhZBA.s['10']++;filescrollview.set('modelsSelectable',multiple?(__cov_rQvvhcSAHS4y60javxhZBA.b['1'][0]++,'multi'):(__cov_rQvvhcSAHS4y60javxhZBA.b['1'][1]++,'single'));__cov_rQvvhcSAHS4y60javxhZBA.s['11']++;filepromise=new Y.Promise(function(resolve,reject){__cov_rQvvhcSAHS4y60javxhZBA.f['7']++;__cov_rQvvhcSAHS4y60javxhZBA.s['12']++;var resolvehandler,rejecthandler;__cov_rQvvhcSAHS4y60javxhZBA.s['13']++;resolvehandler=instance.once('itsascrollviewmodellist:modelDblclick',function(e){__cov_rQvvhcSAHS4y60javxhZBA.f['8']++;__cov_rQvvhcSAHS4y60javxhZBA.s['14']++;var file=e.model,files;__cov_rQvvhcSAHS4y60javxhZBA.s['15']++;rejecthandler.detach();__cov_rQvvhcSAHS4y60javxhZBA.s['16']++;if(multiple){__cov_rQvvhcSAHS4y60javxhZBA.b['2'][0]++;__cov_rQvvhcSAHS4y60javxhZBA.s['17']++;files=filescrollview.getSelectedModels(true);__cov_rQvvhcSAHS4y60javxhZBA.s['18']++;if(Y.Array.indexOf(files,file)===-1){__cov_rQvvhcSAHS4y60javxhZBA.b['3'][0]++;__cov_rQvvhcSAHS4y60javxhZBA.s['19']++;files.push(file);}else{__cov_rQvvhcSAHS4y60javxhZBA.b['3'][1]++;}}else{__cov_rQvvhcSAHS4y60javxhZBA.b['2'][1]++;}__cov_rQvvhcSAHS4y60javxhZBA.s['20']++;resolve({directory:instance.getCurrentDir(),file:file,files:files});__cov_rQvvhcSAHS4y60javxhZBA.s['21']++;instance.hide();});__cov_rQvvhcSAHS4y60javxhZBA.s['22']++;rejecthandler=instance.once('*:visibleChange',function(e){__cov_rQvvhcSAHS4y60javxhZBA.f['9']++;__cov_rQvvhcSAHS4y60javxhZBA.s['23']++;var target=e.target,hidden=e.newVal===false;__cov_rQvvhcSAHS4y60javxhZBA.s['24']++;if((__cov_rQvvhcSAHS4y60javxhZBA.b['5'][0]++,hidden)&&(__cov_rQvvhcSAHS4y60javxhZBA.b['5'][1]++,target instanceof Y.ITSAFilePicker)){__cov_rQvvhcSAHS4y60javxhZBA.b['4'][0]++;__cov_rQvvhcSAHS4y60javxhZBA.s['25']++;resolvehandler.detach();__cov_rQvvhcSAHS4y60javxhZBA.s['26']++;reject(new Error('Fileselector closed without selecting a file'));}else{__cov_rQvvhcSAHS4y60javxhZBA.b['4'][1]++;}});});__cov_rQvvhcSAHS4y60javxhZBA.s['27']++;instance.show();__cov_rQvvhcSAHS4y60javxhZBA.s['28']++;return filepromise;});}});__cov_rQvvhcSAHS4y60javxhZBA.s['29']++;if(!Y.Global.ItsaFilePicker){__cov_rQvvhcSAHS4y60javxhZBA.b['6'][0]++;__cov_rQvvhcSAHS4y60javxhZBA.s['30']++;var winHeight,winWidth,defaultWidth,defaultHeight,config;__cov_rQvvhcSAHS4y60javxhZBA.s['31']++;winHeight=parseInt(Y.one('window').get('winHeight'),10);__cov_rQvvhcSAHS4y60javxhZBA.s['32']++;winWidth=parseInt(Y.one('window').get('winWidth'),10);__cov_rQvvhcSAHS4y60javxhZBA.s['33']++;defaultHeight=Math.round(winHeight*0.9);__cov_rQvvhcSAHS4y60javxhZBA.s['34']++;defaultWidth=Math.min(Math.round(defaultHeight*1.3),Math.round(winWidth*0.9));__cov_rQvvhcSAHS4y60javxhZBA.s['35']++;config={width:defaultWidth,height:defaultHeight,zIndex:15000,centered:true,modal:true,visible:false,plugins:[Y.Plugin.Drag,Y.Plugin.Resize]};__cov_rQvvhcSAHS4y60javxhZBA.s['36']++;Y.Global.ItsaFilePicker=new Y.ITSAFilePicker(config).render();}else{__cov_rQvvhcSAHS4y60javxhZBA.b['6'][1]++;}__cov_rQvvhcSAHS4y60javxhZBA.s['37']++;Y.ItsaFilePicker=Y.Global.ItsaFilePicker;},'@VERSION@',{'requires':['yui-base','promise','dd-plugin','resize-plugin','gallery-itsawidgetrenderpromise','gallery-itsafilemanager']});
