YUI.add("gallery-itsaviewmodelpanel",function(e,t){"use strict";var n,r=e.Lang,i="container",s="gallery-",o="View",u="body"+o,a="footer",f=a+o,l="template",c=a+"Template",h="itsa-focused",p="editable",d="model",v="Change",m="close",g="click",y=m+g,b="button",w="boolean",E="string",S="focusManaged",x="itsatabkeymanager";n=e.ITSAViewModelPanel=e.Base.create("itsaviewmodelpanel",e.ITSAPanel,[],null,{ATTRS:{editable:{value:!1,validator:function(e){return typeof e===w},getter:function(){this.get(d).get(p)}},focusManaged:{value:!0,validator:function(e){return typeof e===w}},footerTemplate:{value:null,validator:function(e){return typeof e===E}},hideOnBtnFooter:{value:!0,validator:function(e){return typeof e===w}},hideOnBtnHeader:{value:!1,validator:function(e){return typeof e===w}},model:{value:{},validator:function(t){return t===null||r.isObject(t)||typeof t===E||t instanceof e.Model}},template:{value:null,validator:function(e){return typeof e===E}}}}),n.prototype.initializer=function(){var t=this,n=t.get(d);t._eventhandlers=[],t.set(u,new e.ITSAViewModel({model:n,template:t.get(l),editable:n.get(p),focusManaged:!1})),t.set(f,new e.ITSAViewModel({model:n,template:t.get(c),editable:!1,focusManaged:!1}))},n.prototype.bindUI=function(){var e=this,t=e._eventhandlers,n=e.get(u),r=e.get(f);e._setFocusManager(e.get(S)),t.push(e.after(p+v,function(e){n.set(p,e.newVal)})),t.push(e.after(c+v,function(e){r.set(l,e.newVal)})),t.push(e.after(d+v,function(e){n.set(d,e.newVal),r.set(d,e.newVal)})),t.push(e.after(l+v,function(e){n.set(l,e.newVal)})),t.push(e.after(S+v,function(t){e._setFocusManager(t.newVal)})),t.push(e.after("*:"+y,function(){e.hide()})),t.push(e._footer.delegate(g,function(){e.get("hideOnBtnFooter")&&e.hide()},b)),t.push(e._header.delegate(g,function(){e.get("hideOnBtnHeader")&&e.hide()},b))},n.prototype.destructor=function(){var e=this,t=e.get(i);e._clearEventhandlers(),t.hasPlugin(x)&&t.unplug(x)},n.prototype._setBodyView=function(){},n.prototype._setFocusManager=function(t){var n=this,r=n.get(i),o=r.itsatabkeymanager;t?e.use(s+x,function(){o?o.refresh(r):(r.plug(e.Plugin.ITSATabKeyManager),o=r.itsatabkeymanager),r.hasClass(h)&&o.focusInitialItem()}):o&&r.unplug(x)},n.prototype._setFooterView=function(){},n.prototype._setHeaderView=function(){}},"@VERSION@",{requires:["node-pluginhost","base-build","base-base","model","gallery-itsapanel","gallery-itsaviewmodel"]});
