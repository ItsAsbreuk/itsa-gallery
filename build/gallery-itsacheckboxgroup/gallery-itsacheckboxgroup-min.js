YUI.add("gallery-itsacheckboxgroup",function(e,t){"use strict";function l(){l.superclass.constructor.apply(this,arguments)}var n=e.Lang,r=e.Array,i=e.Object,s="checked",o="options",u="contentBox",a="Change",f="itsa-widget-parent";l.NAME="itsacheckboxgroup",l.CHECKBOX_TEMPLATE='<div class="pure-control-group"><label data-widgetlabel="true">{option}</label>{checkbox}</div>',l.ATTRS={checkboxConfig:{value:null,validator:function(e){return e===null||typeof e=="object"}},options:{value:[],validator:function(e){return n.isArray(e)}},checked:{value:[],validator:function(e){return n.isArray(e)},getter:"_getChecked"}},e.ITSACheckboxGroup=e.extend(l,e.Widget),l.prototype.initializer=function(){this._eventhandlers=[]},l.prototype.renderUI=function(){var t=this,i=t.get(o),a=t.get(u),l=t.get("checkboxConfig")||{},c,h,p;t._originalChecked=!0,p=t.get(s),t._originalChecked=!1,t._options={},t._checked={},r.each(p,function(e){e&&(t._checked[e]=!0)}),r.each(i,function(r){h=n.sub(t.constructor.CHECKBOX_TEMPLATE,{option:r,checkbox:'<div class="'+f+'"></div>'}),c=e.Node.create(h),a.append(c),l.boundingBox=c.one("."+f),l.checked=t._checked[r]?!0:!1,t._options[r]=(new e.ITSACheckbox(l)).render()})},l.prototype.bindUI=function(){var t=this;t._eventhandlers.push(t.after(o+a,e.bind(t._resetOptions,t))),t._eventhandlers.push(t.after(s+a,e.bind(t._resetChecked,t)))},l.prototype.destructor=function(){var e=this;e._clearEventhandlers(),e._emptyContentBox()},l.prototype._clearEventhandlers=function(){r.each(this._eventhandlers,function(e){e.detach()})},l.prototype._getChecked=function(e){var t=this,n=[];return t._originalChecked?e:(i.each(t._options,function(e,t){e.get(s)&&n.push(t)}),n)},l.prototype._resetChecked=function(){var e=this,t;e._originalChecked=!0,t=e.get(s),e._originalChecked=!1,e._checked={},r.each(t,function(t){t&&(e._checked[t]=!0)}),i.each(e._options,function(t,n){var r=e._checked[n]?!0:!1;t.set(s,r)})},l.prototype._resetOptions=function(){var e=this;i.each(e._options,function(e){e.destroy(!0)}),e._emptyContentBox(),e.renderUI()},l.prototype._emptyContentBox=function(){var e=this.get(u);e.get("childNodes").destroy(!0),e.empty()}},"@VERSION@",{requires:["yui-base","oop","widget-base","gallery-itsacheckbox"]});
