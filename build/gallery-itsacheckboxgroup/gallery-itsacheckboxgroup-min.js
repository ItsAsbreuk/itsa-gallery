YUI.add("gallery-itsacheckboxgroup",function(e,t){"use strict";function l(){l.superclass.constructor.apply(this,arguments)}var n=e.Lang,r=e.Array,i=e.Object,s="checked",o="options",u="contentBox",a="Change",f="itsa-widget-parent";l.NAME="itsacheckboxgroup",l.CHECKBOX_TEMPLATE='<div class="pure-control-group" data-focusable="true" data-type="itsacheckbox" data-modelattribute="true" data-formelement="true"><label data-widgetlabel="true">{option}</label>{checkbox}</div>',l.ATTRS={checkboxConfig:{value:null,validator:function(e){return e===null||typeof e=="object"}},options:{value:[],validator:function(e){return n.isArray(e)}},checked:{value:[],validator:function(e){return n.isArray(e)}}},e.ITSACheckboxGroup=e.extend(l,e.Widget),l.prototype.initializer=function(){this._eventhandlers=[]},l.prototype.renderUI=function(){var t=this,i=t.get(o),a=t.get(u),l={},c=t.get("checkboxConfig")||{},h,p,d,v;d=t.get(s),t._options={},r.each(d,function(e){l[e]=!0}),r.each(i,function(r){p=n.sub(t.constructor.CHECKBOX_TEMPLATE,{option:r,checkbox:'<div class="'+f+'"></div>'}),h=e.Node.create(p),a.append(h),c.boundingBox=h.one("."+f),c.checked=l[r]?!0:!1,t._options[r]=v=new e.ITSACheckbox(c),v.render(),v.addTarget(t)}),r.each(d,function(e,n){t._options[e]||d.splice(n,1)})},l.prototype.bindUI=function(){var t=this;t._eventhandlers.push(t.after(o+a,e.bind(t._resetOptions,t))),t._eventhandlers.push(t.after(s+a,e.bind(t._resetChecked,t))),t._eventhandlers.push(t.after("*:"+s+a,function(e){e.internalChanged||t._setChecked(e)}))},l.prototype.destructor=function(){var e=this;e._clearEventhandlers(),i.each(e._options,function(e){e.destroy(!0)}),e._emptyContentBox()},l.prototype._clearEventhandlers=function(){r.each(this._eventhandlers,function(e){e.detach()})},l.prototype._setChecked=function(e){var t=this,n=e.type.split(":"),r=[];n[0]!==l.NAME&&!e.fromReset&&(i.each(t._options,function(e,t){e.get(s)&&r.push(t)}),t.set(s,r,{internalChanged:!0}))},l.prototype._resetChecked=function(){var e=this,t={},n;n=e.get(s),r.each(n,function(e){t[e]=!0}),i.each(e._options,function(e,n){var r=t[n]?!0:!1;e.set(s,r,{fromReset:!0})})},l.prototype._resetOptions=function(){var e=this;i.each(e._options,function(e){e.destroy(!0)}),e._emptyContentBox(),e.renderUI()},l.prototype._emptyContentBox=function(){var e=this.get(u);e.get("childNodes").destroy(!0),e.empty()}},"@VERSION@",{requires:["yui-base","oop","widget-base","timers","gallery-itsacheckbox"]});
