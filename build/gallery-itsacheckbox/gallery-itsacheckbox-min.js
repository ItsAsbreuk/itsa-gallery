YUI.add("gallery-itsacheckbox",function(e,t){var n=e.Lang,r=e.Array,i="yui3-itsacheckbox",s="readonly",o=i+"-"+s,u=i+"-parent",a=i+"-loading",f=i+"-rerender",l=i+"-hidden",c=i+"-created-checkbox",h="lowercase",p=i+"-"+h,d="option",v=d+"wrapper",m=d+"container",g=d+"on",y=d+"btn",b=d+"off",w=e.UA.ie>0,E="boundingBox",S="width",x="height",T="offsetWidth",N="offsetHeight",C="borderRadius",k="paddingTop",L="paddingBottom",A="paddingLeft",O="paddingRight",M="marginLeft",_="px",D="left",P="disabled",H="checked",B="Change",j="unselectable",F='<div class="',I="</div>",q='<input id="{id}" type="checkbox" class="'+c+'"{'+s+"}{"+H+"}{"+P+"}>",R="{htmlcheckbox}"+F+v+'">'+F+m+'"{'+j+"}>"+F+g+'">{'+g+"}"+I+F+b+'">{'+b+"}"+I+F+y+'">'+I+I+I,U=function(e){return parseInt(e,10)};e.ITSACheckbox=e.Base.create("itsacheckbox",e.Widget,[],{CONTENT_TEMPLATE:null,initializer:function(){var e=this,t=e.get(E);t.addClass(a),e.get(s)&&t.addClass(o),e._eventhandlers=[]},renderUI:function(){var t=this,n=t.get(E),r;r=t.get("srcNode"),r&&r.get("tagName")==="INPUT"&&r.getAttribute("type")==="checkbox"&&(t._src=e.one(r),r.addClass(l),n.insert(r,"before")),t._parentNode&&t._parentNode.addClass(u),t._setTemplate(),t.get(h)&&n.addClass(p)},bindUI:function(){var t=this,n=t.get(E),r;t.dd=r=(new e.DD.Drag({node:t._containerNode,lock:t.get(P)||t.get(s)})).plug(e.Plugin.DDConstrained,{constrain:t._wrapperNode}),r.on("drag:end",function(e){var n=e.pageX-t.get(E).getX();t.set(H,n>-t._changePosition)}),t._eventhandlers.push(t.on("checkedChange",function(e){var n=e.newVal;t._goFinal(n),t._src&&(n?t._src.setAttribute(H,H):t._src.removeAttribute(H))})),t._eventhandlers.push(t.after([g+B,b+B],e.bind(t._setDimensions,t))),t._eventhandlers.push(t.on(P+B,function(e){var n=e.newVal;r.set("lock",n||t.get(s)),t._goFinal(t.get(H,!0),!0),t._src&&(n?t._src.setAttribute(P,P):t._src.removeAttribute(P))})),t._eventhandlers.push(t.on(s+B,function(e){var i=e.newVal;n.toggleClass(o,i),r.set("lock",i||t.get(P)),t._goFinal(t.get(H,!0),!0),t._src&&(i?t._src.setAttribute(s,s):t._src.removeAttribute(s))})),t._eventhandlers.push(t.on(h+B,function(e){n.toggleClass(p,e.newVal)})),t._eventhandlers.push(t._containerNode.on("tap",function(){t.set(H,!t.get(H))})),t._eventhandlers.push(e.on("keydown",function(e){if(t.get("focused")){var n=e.keyCode;e.preventDefault(),n===37||n===40?t.set(H,!1):n===39||n===38?t.set(H,!0):n===32&&t.set(H,!t.get(H))}}))},getValue:function(){return this.get(H)},syncUI:function(){var e=this;e._setDimensions()},destructor:function(){var e=this,t=e.dd,n=e._createdSrc,r=e._src;t&&t.destroy(),e._clearEventhandlers(),n?n.destroy():r.removeClass(l),e._wrapperNode.remove(!0),e._parentNode&&e._parentNode.removeClass(u)},_clearEventhandlers:function(){r.each(this._eventhandlers,function(e){e.detach()})},_goFinal:function(e,t){var n=this;e?n._goRight(!0,t):n._goLeft(!0,t)},_goLeft:function(e,t){var n=this,r=n._containerNode;if(!n.get(P)&&!n.get(s)||t)e?n._moveAnimated(0):r.setStyle(D,"0")},_goRight:function(e,t){var n=this,r=n._containerNode;if(!n.get(P)&&!n.get(s)||t)e?n._moveAnimated(n._onPosition):r.setStyle(D,n._onPosition+_)},_moveAnimated:function(e){var t=this;t._containerNode.transition({easing:"ease-in",duration:t.get("duration"),left:e+_})},_setDimensions:function(){var e=this,t=e.get(E),n,r,i,s,o,u,a,l,c,h,p,d,v,m,y,w,P,B,j,F,I,q;n=e._optionBtnNode,r=e._optionOnNode,i=e._optionOffNode,w=e._wrapperNode,c=e._containerNode,t.addClass(f),e.get("rendered")&&(I=!0,r.set("text",e.get(g)),i.set("text",e.get(b))),c.setStyle(S,""),r.setStyle(S,""),i.setStyle(S,""),n.setStyle(S,""),c.setStyle(x,""),r.setStyle(x,""),i.setStyle(x,""),n.setStyle(x,""),r.setStyle(A,""),r.setStyle(O,""),r.setStyle(k,""),r.setStyle(L,""),i.setStyle(A,""),i.setStyle(O,""),i.setStyle(k,""),i.setStyle(L,""),h=r.get(N),p=i.get(N),u=Math.max(h,p),s=Math.floor(u/2),o=u-s,j=U(n.getStyle("borderTopWidth")),F=U(n.getStyle("borderBottomWidth")),a=u-j-F+_,n.setStyle(x,a),r.setStyle(k,U(r.getStyle(k))+_),r.setStyle(L,U(r.getStyle(L))+_),i.setStyle(k,U(i.getStyle(k))+_),i.setStyle(L,U(i.getStyle(L))+_),r.setStyle(x,u-U(r.getStyle(k))-U(r.getStyle(L))+_),i.setStyle(x,u-U(i.getStyle(k))-U(i.getStyle(L))+_),r.setStyle(O,U(r.getStyle(O))+s+_),i.setStyle(A,U(i.getStyle(A))+o+_),r.setStyle(A,U(r.getStyle(A))+_),i.setStyle(O,U(i.getStyle(O))+_),v=r.get(T),m=i.get(T),y=Math.max(v,m),d=v-U(r.getStyle(A))-U(r.getStyle(O)),r.setStyle(S,d+(y-v)+_),d=m-U(i.getStyle(A))-U(i.getStyle(O)),i.setStyle(S,d+(y-m)+_),n.setStyle(S,a),l=y-s,w.setStyle(S,3*y-s+_),c.setStyle(S,2*y+_),B=y+o+1,t.setStyle(S,B+_),n.setStyle(M,-s-y+_),wrapperLeftPos=s-y,w.setStyle(D,wrapperLeftPos+_),e._onPosition=y-s,e._changePosition=Math.round(-wrapperLeftPos/2),n.setStyle(C,s+_),q=s-1,r.setStyle(C,q+_+" 0 0 0"),i.setStyle(C,"0 "+q+_+" 0 0"),P=t.get(N),t.setStyle(C,Math.round(P/2)+_),e.get(H)?e._goRight(!1,!0):e._goLeft(!1,!0),t.removeClass(f),I&&e.fire("contentUpdate")},_setTemplate:function(){var e=this,t=e.get(E),r=e.get(g),i=e.get(b),o,u,a,f;e._src||(u=e._parentNode||t,o="checkbox_"+u.get("id")),t.setHTML(n.sub(R,{htmlcheckbox:o?n.sub(q,{id:o,readonly:e.get(s)?" "+s+'="'+s+'"':"",checked:e.get(H)?" "+H+'="'+H+'"':"",disabled:e.get(P)?" "+P+'="'+P+'"':""}):"",optionon:r,optionoff:i,unselectable:w?" "+j+"=on":""})),o&&(e._createdSrc=e._src=t.one("#"+o)),e._wrapperNode=t.one("."+v),e._containerNode=t.one("."+m),e._optionOnNode=a=t.one("."+g),e._optionOffNode=f=a.next(),e._optionBtnNode=f.next()},_srcNodeValidCheckbox:function(e){return e.get("tagName")==="INPUT"&&e.getAttribute("type")==="checkbox"}},{ATTRS:{checked:{value:!1,validator:function(e){var t=this,n;return t.get("rendered")&&(n=t.get(P)||t.get(s)),typeof e=="boolean"&&!n},getter:function(e,t){return!this.get(P)&&!this.get(s)||t?e:null}},duration:{value:.15,validator:function(e){return typeof e=="number"}},lowercase:{value:!1,validator:function(e){return typeof e=="boolean"}},optionon:{value:"I",validator:function(e){return typeof e=="string"}},optionoff:{value:"O"
,validator:function(e){return typeof e=="string"}},readonly:{value:!1,validator:function(e){return typeof e=="boolean"}}},HTML_PARSER:{checked:function(e){var t=e.getAttribute(H).toLowerCase()===H;return this._srcNodeValidCheckbox(e)&&t},readonly:function(e){var t=e.getAttribute(s).toLowerCase()===s;return this._srcNodeValidCheckbox(e)&&t},disabled:function(e){var t=e.getAttribute(P).toLowerCase()===P;return this._srcNodeValidCheckbox(e)&&t}}})},"@VERSION@",{requires:["yui-base","node-base","dom-screen","widget","base-build","dd-drag","dd-constrain","event-tap","transition"],skinnable:!0});
