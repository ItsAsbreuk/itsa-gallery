YUI.add("gallery-itsacheckbox",function(e,t){var n=e.Lang,r=e.Array,i="yui3-itsacheckbox",s="readonly",o=i+"-"+s,u=i+"-loading",a=i+"-hidden",f="option",l=f+"wrapper",c=f+"container",h=f+"on",p=f+"btn",d=f+"off",v=e.UA.ie>0,m="boundingBox",g="paddingLeft",y="paddingRight",b="width",w="height",E="offsetWidth",S="offsetHeight",x="borderRadius",T="marginLeft",N="px",C="left",k="disabled",L="checked",A=1,O='<div class="',M="</div>",_=O+l+'">'+O+c+'"{unselectable}>'+O+h+'">{'+h+"}"+M+O+p+'">'+M+O+d+'">{'+d+"}"+M+M+M,D=function(e){return parseInt(e,10)};e.ITSACheckBox=e.Base.create("itsacheckbox",e.Widget,[],{CONTENT_TEMPLATE:null,initializer:function(){var e=this,t=e.get(m);t.addClass(u),e.get(s)&&t.addClass(o),e._eventhandlers=[]},renderUI:function(){var t=this,n;n=t.get("srcNode"),n&&n.get("tagName")==="INPUT"&&n.getAttribute("type")==="checkbox"&&(t.src=e.one(n),n.addClass(a),n.removeClass(u),t.get(m).insert(n,"before")),t._setOptionLabels()},bindUI:function(){var t=this,n=t.get(m),r;t.dd=r=(new e.DD.Drag({node:t.containerNode,lock:t.get(k)||t.get(s)})).plug(e.Plugin.DDConstrained,{constrain:t.wrapperNode}),r.on("drag:end",function(e){t._xpos||(t._xpos=t.get(m).getX());var n=e.pageX-t._xpos;t.set(L,n>=-t._changePosition)}),t._eventhandlers.push(t.on("checkedChange",function(e){var n=e.newVal;t._goFinal(n),t.src&&(n?t.src.setAttribute(L,L):t.src.removeAttribute(L))})),t._eventhandlers.push(t.on([h+"Change",d+"Change"],e.bind(t._setOptionDimensions,t))),t._eventhandlers.push(t.on(k+"Change",function(e){var n=e.newVal;r.set("lock",n||t.get(s)),t._goFinal(t.get(L,!0),!0),t.src&&(n?t.src.setAttribute(k,k):t.src.removeAttribute(k))})),t._eventhandlers.push(t.on(s+"Change",function(e){var i=e.newVal;n.toggleClass(o,i),r.set("lock",i||t.get(k)),t._goFinal(t.get(L,!0),!0),t.src&&(i?t.src.setAttribute(s,s):t.src.removeAttribute(s))})),t._eventhandlers.push(t.containerNode.on("tap",function(){t.set(L,!t.get(L))})),t._eventhandlers.push(e.on("keypress",function(e){if(t.get("focused")){var n=e.keyCode;n===37||n===40?t.set(L,!1):n===39||n===38?t.set(L,!0):n===32&&t.set(L,!t.get(L))}}))},_goFinal:function(e,t){var n=this;e?n._goRight(!0,t):n._goLeft(!0,t)},_goLeft:function(e,t){console.log("goleft");var n=this,r=n.containerNode;if(!n.get(k)&&!n.get(s)||t)e?n._moveAnimated(0):r.setStyle(C,"0")},_goRight:function(e,t){console.log("goright");var n=this,r=n.containerNode;if(!n.get(k)&&!n.get(s)||t)e?n._moveAnimated(n._onPosition):r.setStyle(C,n._onPosition+N)},_moveAnimated:function(e){var t=this;t.containerNode.transition({easing:"ease-in",duration:t.get("duration"),left:e+N})},getValue:function(){return this.get(L)},syncUI:function(){var e=this;e._setContainerDimensions(),e._setOptionDimensions()},destructor:function(){var e=this,t=e.dd,n=e.src;t&&t.destroy(),e._clearEventhandlers(),n&&n.removeClass(a)},_clearEventhandlers:function(){r.each(this._eventhandlers,function(e){e.detach()})},_setContainerDimensions:function(){var e=this,t=e.get(m),n,r,i,s,o,u,a;n=e.optionBtnNode,r=n.previous(),i=n.next(),o=i.get(S),e.widthBtnNode=o,u=o-2*A+N,n.setStyle(b,u),n.setStyle(w,u),e.radius=s=Math.round(o/2),n.setStyle(x,s+N),n.setStyle(T,-s+N),i.setStyle(T,-s+N),r.setStyle(x,s+N+" 0 0 0"),i.setStyle(x,"0 "+s+N+" 0 0"),r.setStyle(y,""),r.setStyle(g,""),i.setStyle(y,""),i.setStyle(g,""),a=D(r.getStyle(g))+s,r.setStyle(g,a+N),a=D(r.getStyle(y))+s,r.setStyle(y,a+N),a=D(i.getStyle(g))+s,i.setStyle(g,a+N),a=D(i.getStyle(y))+s,i.setStyle(y,a+N),t.setStyle(x,s+2*A+N)},_setOptionDimensions:function(){var e=this,t=e.optionBtnNode,n=t.previous(),r=t.next(),i=e.get(m),s=i.one("."+c),o=D(n.getStyle(g)),u=D(n.getStyle(y)),a=D(r.getStyle(g)),f=D(r.getStyle(y)),l=e.radius,h,p,d,v;s.setStyle(b,""),n.setStyle(b,""),r.setStyle(b,""),h=n.get(E),p=r.get(E),h>p?(r.setStyle(b,h-a-f+N),d=h):(n.setStyle(b,p-o-u+N),d=p),v=e._onPosition=d-l,total=d+l-1,i.setStyle(b,total+N),total+=d,s.setStyle(b,total+N),total+=d-l,e.wrapperNode.setStyle(b,total+N),e.wrapperNode.setStyle(C,-v+N),e._changePosition=Math.round(v/2),e.get(L)?e._goRight(!1,!0):e._goLeft(!1,!0)},_setOptionLabels:function(){var e=this,t=e.get(m),r=e.get(h),i=e.get(d);t.setHTML(n.sub(_,{optionon:r,optionoff:i,unselectable:v?" unselectable=on":""})),e.wrapperNode=t.one("."+l),e.containerNode=t.one("."+c),e.optionBtnNode=t.one("."+p)},_srcNodeValidCheckbox:function(e){return e.get("tagName")==="INPUT"&&e.getAttribute("type")==="checkbox"}},{ATTRS:{checked:{value:!1,validator:function(e){return typeof e=="boolean"&&!this.get(k)&&!this.get(s)},getter:function(e,t){return!this.get(k)&&!this.get(s)||t?e:null}},duration:{value:.15,validator:function(e){return typeof e=="number"}},optionon:{value:"I",validator:function(e){return typeof e=="string"}},optionoff:{value:"O",validator:function(e){return typeof e=="string"}},readonly:{value:!1,validator:function(e){return typeof e=="boolean"}}},HTML_PARSER:{checked:function(e){var t=e.getAttribute(L).toLowerCase()===L;return this._srcNodeValidCheckbox(e)&&t},readonly:function(e){var t=e.getAttribute(s).toLowerCase()===s;return this._srcNodeValidCheckbox(e)&&t},disabled:function(e){var t=e.getAttribute(k).toLowerCase()===k;return this._srcNodeValidCheckbox(e)&&t}}})},"@VERSION@",{requires:["yui-base","node-base","dom-screen","widget","base-build","dd-drag","dd-constrain","event-tap","transition"],skinnable:!0});
